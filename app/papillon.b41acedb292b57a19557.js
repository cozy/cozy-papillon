!function(e){function t(t){for(var n,i,o=t[0],c=t[1],s=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);m.length;)m.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=c;l.push([0,1]),a()}({0:function(e,t,a){a("jI5P"),e.exports=a("nXPL")},1:function(e,t){},2:function(e,t){},"2maa":function(e){e.exports=JSON.parse('{"Layout":{"onboardImportText":"Import your school data","importFromButton":"Import from","exploreServices":"Explore services"},"Sidebar":{"timetable":"Timetable","homeworks":"Homeworks","grades":"Grades","presence":"Attendance"},"Timetable":{"title":"Timetable","to":"to","start":"Start","end":"End","location":"Location","teacher":"Teacher","status":"Status","duration":"Duration","informations":"Informations","noCourses":"No courses","cancelled":"Cancelled course","pauseNoCourses":"No lessons","pauseMidday":"Midday break","during":"during"},"Homeworks":{"title":"Homeworks","emptyList":{"title":"No homeworks found","description":"There are no homeworks saved in your account"},"loadMore":"Load more homeworks"},"Grades":{"title":"Grades","dialogContext":"Informations","date":"Date","valuesList":"Results and averages","emptyList":{"title":"No grades","description":"You don\'t have any grades for this period","periods":"No available period"},"selectPeriod":"Select a period","selectYear":"Select a year","values":{"student":{"title":"Student\'s grade","description":"Grade you got for this subject"},"class":{"title":"Class average","description":"Class average for this subject"},"max":{"title":"Class best grade","description":"Best grade of the class for this subject"},"min":{"title":"Class worst grade","description":"Worst grade of the class for this subject"},"coefficient":{"title":"Coefficient","description":"Weight of this grade in your overall average"}}},"Presence":{"title":"Attendance","delay":"Delay","absence":"Absence","presence":"Event","justified":"Justified","notJustified":"Not justified","justifiedUnreceivable":"Justified (unreceivable)","emptyList":{"title":"No attendance events","description":"You don\'t have any attendance events"}}}')},"5z4W":function(e,t){e.exports={name:"Papillon",slug:"papillon",icon:"icon.svg",categories:[],version:"0.1.0",licence:"AGPL-3.0",editor:"",source:"https://github.com/cozy/cozy-papillon.git@build",developer:{name:"Cozy Cloud",url:"https://cozy.io"},routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},files:{type:"io.cozy.files",description:"Required by Papillon",verbs:["GET"]},calendar:{type:"io.cozy.calendar.*",description:"Required by Papillon",verbs:["GET"]},grades:{type:"io.cozy.timeseries.grades",description:"Required by Papillon",verbs:["GET"]},accounts:{type:"io.cozy.accounts",description:"Required by Papillon",verbs:["GET"]},identities:{type:"io.cozy.identities",description:"Required by Papillon",verbs:["GET"]}}}},"7SaY":function(e,t,a){},"7z1u":function(e,t,a){var n={"./_lib/build_formatting_tokens_reg_exp/index.js":"5XOE","./ar/build_distance_in_words_locale/index.js":"qs6D","./ar/build_format_locale/index.js":"80pQ","./ar/index.js":"n4NV","./be/build_distance_in_words_locale/index.js":"b7Vp","./be/build_format_locale/index.js":"STnx","./be/index.js":"ka/z","./bg/build_distance_in_words_locale/index.js":"fyh8","./bg/build_format_locale/index.js":"STBG","./bg/index.js":"BBHR","./ca/build_distance_in_words_locale/index.js":"4d8B","./ca/build_format_locale/index.js":"a88X","./ca/index.js":"Nz94","./cs/build_distance_in_words_locale/index.js":"70Ht","./cs/build_format_locale/index.js":"R/Ak","./cs/index.js":"oAfY","./da/build_distance_in_words_locale/index.js":"HjC7","./da/build_format_locale/index.js":"G0Zw","./da/index.js":"CJpN","./de/build_distance_in_words_locale/index.js":"DD2N","./de/build_format_locale/index.js":"pnJo","./de/index.js":"eBmD","./el/build_distance_in_words_locale/index.js":"tFqT","./el/build_format_locale/index.js":"twcE","./el/index.js":"m1rb","./en/build_distance_in_words_locale/index.js":"bjbr","./en/build_format_locale/index.js":"EW2Y","./en/index.js":"VkMk","./eo/build_distance_in_words_locale/index.js":"ujJO","./eo/build_format_locale/index.js":"S5Gq","./eo/index.js":"nn7U","./es/build_distance_in_words_locale/index.js":"h+mB","./es/build_format_locale/index.js":"Q4jc","./es/index.js":"4yJR","./fi/build_distance_in_words_locale/index.js":"Fpie","./fi/build_format_locale/index.js":"LTnX","./fi/index.js":"G/Qn","./fil/build_distance_in_words_locale/index.js":"VRy5","./fil/build_format_locale/index.js":"syEd","./fil/index.js":"k8V/","./fr/build_distance_in_words_locale/index.js":"nJeE","./fr/build_format_locale/index.js":"DeP4","./fr/index.js":"+owv","./hr/build_distance_in_words_locale/index.js":"Fs/O","./hr/build_format_locale/index.js":"ZlNX","./hr/index.js":"Kj+b","./hu/build_distance_in_words_locale/index.js":"8okG","./hu/build_format_locale/index.js":"lk8B","./hu/index.js":"+KHA","./id/build_distance_in_words_locale/index.js":"50BR","./id/build_format_locale/index.js":"18Vb","./id/index.js":"anKN","./is/build_distance_in_words_locale/index.js":"qUeK","./is/build_format_locale/index.js":"IcCt","./is/index.js":"4QE/","./it/build_distance_in_words_locale/index.js":"PCcA","./it/build_format_locale/index.js":"V71f","./it/index.js":"qK4z","./ja/build_distance_in_words_locale/index.js":"5vSx","./ja/build_format_locale/index.js":"CAsz","./ja/index.js":"XcQu","./ko/build_distance_in_words_locale/index.js":"jKsw","./ko/build_format_locale/index.js":"UEmh","./ko/index.js":"zOJj","./mk/build_distance_in_words_locale/index.js":"fcCd","./mk/build_format_locale/index.js":"re9F","./mk/index.js":"FDmM","./nb/build_distance_in_words_locale/index.js":"aEqN","./nb/build_format_locale/index.js":"pNMw","./nb/index.js":"mR4k","./nl/build_distance_in_words_locale/index.js":"7u2d","./nl/build_format_locale/index.js":"3riD","./nl/index.js":"06P9","./pl/build_distance_in_words_locale/index.js":"rygU","./pl/build_format_locale/index.js":"july","./pl/index.js":"vOlg","./pt/build_distance_in_words_locale/index.js":"sLR+","./pt/build_format_locale/index.js":"ZP65","./pt/index.js":"vSZg","./ro/build_distance_in_words_locale/index.js":"eJyG","./ro/build_format_locale/index.js":"fLwW","./ro/index.js":"OuEP","./ru/build_distance_in_words_locale/index.js":"KjgK","./ru/build_format_locale/index.js":"Tqgg","./ru/index.js":"T3Gn","./sk/build_distance_in_words_locale/index.js":"38t1","./sk/build_format_locale/index.js":"myxh","./sk/index.js":"In70","./sl/build_distance_in_words_locale/index.js":"Mhi5","./sl/build_format_locale/index.js":"yfgk","./sl/index.js":"D9r0","./sr/build_distance_in_words_locale/index.js":"I8h+","./sr/build_format_locale/index.js":"0FXG","./sr/index.js":"lQaB","./sv/build_distance_in_words_locale/index.js":"z6xu","./sv/build_format_locale/index.js":"jmSq","./sv/index.js":"SMJc","./th/build_distance_in_words_locale/index.js":"qHE1","./th/build_format_locale/index.js":"+W4l","./th/index.js":"5DsP","./tr/build_distance_in_words_locale/index.js":"0z6Z","./tr/build_format_locale/index.js":"NK/q","./tr/index.js":"OevD","./zh_cn/build_distance_in_words_locale/index.js":"SBqD","./zh_cn/build_format_locale/index.js":"219J","./zh_cn/index.js":"QhI5","./zh_tw/build_distance_in_words_locale/index.js":"7Fp2","./zh_tw/build_format_locale/index.js":"l09L","./zh_tw/index.js":"TDp1"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="7z1u"},Hsuv:function(e){e.exports=JSON.parse('{"Layout":{"onboardImportText":"Importez vos données scolaires","importFromButton":"Importer depuis","exploreServices":"Explorer les services"},"Sidebar":{"timetable":"Emploi du temps","homeworks":"Travail à faire","grades":"Notes","presence":"Vie scolaire"},"Timetable":{"title":"Emploi du temps","to":"au","start":"Début","end":"Fin","location":"Lieu","teacher":"Professeur","status":"Statut","duration":"Durée","informations":"Informations","noCourses":"Aucun cours","cancelled":"Cours annulé","pauseNoCourses":"Pas de cours","pauseMidday":"Pause méridienne","during":"pendant"},"Homeworks":{"title":"Travail à faire","emptyList":{"title":"Aucun devoir","description":"Il n\'y a pas de devoirs sauvegardés dans votre compte"},"loadMore":"Charger plus de devoirs"},"Grades":{"title":"Notes","dialogContext":"Informations","date":"Date","valuesList":"Résultats et moyennes","emptyList":{"title":"Aucune note disponible","description":"Vous n\'avez pas de notes pour cette période","periods":"Aucune période disponible"},"selectPeriod":"Sélectionner une période","selectYear":"Sélectionner une année","values":{"student":{"title":"Note de l\'élève","description":"Votre note obtenue pour ce sujet"},"class":{"title":"Moyenne de la classe","description":"La moyenne de la classe pour ce sujet"},"max":{"title":"Note haute de la classe","description":"La meilleure note de la classe pour ce sujet"},"min":{"title":"Note basse de la classe","description":"La moins bonne note de la classe pour ce sujet"},"coefficient":{"title":"Coefficient","description":"Poids de cette note dans le calcul de la moyenne générale"}}},"Presence":{"title":"Vie scolaire","delay":"Retard","absence":"Absence","presence":"Évènement","justified":"Justifié(e)","notJustified":"Injustifié(e)","justifiedUnreceivable":"Motif non valable","emptyList":{"title":"Aucun évenement","description":"Vous n\'avez pas d\'évenements de vie scolaire"}}}')},NcLS:function(e,t){e.exports="/img/ecoledirecte.844127d5e99136b4e7b27ad724127047.svg"},eUFy:function(e,t,a){var n={"./en":"2maa","./en.json":"2maa","./fr":"Hsuv","./fr.json":"Hsuv"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="eUFy"},nXPL:function(e,t,a){"use strict";a.r(t);a("k37E"),a("QLHQ"),a("oULE"),a("7SaY");var n=a("ivGQ"),r=a.n(n),l=a("p/pw"),i=a("xEu0"),o=a.n(i),c=a("HROS"),s=a("vTbG"),u=a("Rx+m"),d=a("5LIP"),m=a("Aaol"),f=a("0Lot"),p=a("BqmN"),b=a("XkwL"),y=a.n(b),g=o.a.fetchPolicies.olderThan(54e4),v=Object(n.createContext)(),j=function(){return r.a.useContext(v)},E=function(e){var t=e.children,a=Object(n.useState)(null),l=y()(a,2),o=l[0],c=l[1],s={definition:function(){return Object(i.Q)("io.cozy.accounts").where({account_type:"pronote"}).indexFields(["account_type"])},options:{as:"io.cozy.accounts/pronote",fetchPolicy:g}},u=Object(i.useQuery)(s.definition,s.options),d=u.data,m=u.fetchStatus,f=Object(n.useState)([]),p=y()(f,2),b=p[0],j=p[1];return Object(n.useEffect)((function(){"loaded"===m&&j(d)}),[m]),Object(n.useEffect)((function(){b.length>0&&!o&&c(b[0])}),[b]),r.a.createElement(v.Provider,{value:{currentAccount:o,setCurrentAccount:c,accountsList:b,setAccountsList:j,fetchStatus:m}},t)},h=Object(f.a)({disableGlobal:!0}),x=function(e){var t=e.client,a=e.lang,n=e.polyglot,o=e.children;return r.a.createElement(c.WebviewIntentProvider,null,r.a.createElement(p.b,{generateClassName:h},r.a.createElement(i.CozyProvider,{client:t},r.a.createElement(l.BarProvider,null,r.a.createElement(m.I18n,{lang:a,polyglot:n},r.a.createElement(d.default,null,r.a.createElement(u.BreakpointsProvider,null,r.a.createElement(E,null,r.a.createElement(s.a,null,o)))))))))},_=a("euuj"),O=a.n(_),w=a("iOQm"),D={timetable:{doctype:"io.cozy.calendar.events"},homeworks:{doctype:"io.cozy.calendar.todos"},grades:{doctype:"io.cozy.timeseries.grades"},presence:{doctype:"io.cozy.calendar.presence"}},S=a("8ZpT"),P=a.n(S),C=a("8XZk"),k=a("5z4W"),F=a.n(k),M=O()((function(){var e,t,n,r=document.querySelector("[role=application]"),l=Object(w.createRoot)(r),i=function(e){var t=JSON.parse(e.dataset.cozy),a=window.location.protocol,n="".concat(a,"//").concat(t.domain);return new o.a({uri:n,token:t.token,appMetadata:{slug:F.a.name,version:F.a.version},schema:D,store:!0})}(r),c=null===(e=JSON.parse(r.dataset.cozy))||void 0===e?void 0:e.locale,s=(n="en",/^\{\{\..*\}\}$/.test(t=c)?n:t),u=Object(C.b)(s,(function(e){return a("eUFy")("./".concat(e))}));return i.registerPlugin(P.a.plugin),{root:l,client:i,lang:s,polyglot:u}})),z=a("P0ff"),L=a("Iyno"),q=a("uRLs"),I=a.n(q),A=a("pvOl"),N=a("4XnK"),T=a("HYTT"),B=a("keV2"),R=a("WY6r"),G=a("Gyqq"),Y=a("lTBH"),J=a("d5dM"),W=a("9Ub/"),H=a("N8wp"),Q=a("INxB"),V=a("bVLx"),U=a("/s+K"),$=a("AHiN"),X=a("o1F1"),K=a("XAJ7"),Z=a("i5f2"),ee=a("dUf/"),te=function(){var e=j(),t=e.currentAccount,a=e.setCurrentAccount,l=e.accountsList,i=(e.setAccountsList,Object(n.useState)(!1)),o=y()(i,2),c=o[0],s=o[1],u=function(e){switch(e){case"pronote":return"Pronote";default:return e}},d=Object(n.useRef)(null);return!l||l.length<2?null:r.a.createElement("div",null,r.a.createElement(U.default,{ref:d,label:r.a.createElement(W.default,{noWrap:!0,variant:"subtitle",color:"body1",style:{fontWeight:600}},t?t.name:""),onClick:function(){return s(!0)},startIcon:r.a.createElement("div",{style:{marginLeft:"2px",marginRight:"2px"}},r.a.createElement($.default,{icon:K.default,size:"14px"})),endIcon:r.a.createElement("div",{style:{marginLeft:"2px",marginRight:"2px",opacity:.5}},r.a.createElement($.default,{icon:X.default,size:"14px"})),style:{maxWidth:"100%"},variant:"secondary",size:"small"}),r.a.createElement(V.a,{open:c,anchorEl:d.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return s(!1)}},l.map((function(e){return r.a.createElement(Q.a,{key:e._id,onClick:function(){a(e),s(!1)},selected:(null==t?void 0:t._id)===e._id},r.a.createElement(Z.default,null,r.a.createElement($.default,{icon:K.default})),r.a.createElement(ee.default,{primary:e.name,secondary:u(e.account_type)}))}))))},ae=a("/5Aj"),ne=a("zsXZ"),re=a.n(ne),le=a("vaJB"),ie=a.n(le),oe=(a("NcLS"),function(){var e=Object(m.useI18n)().t;return r.a.createElement("div",{className:"u-db-s u-flex u-flex-column u-items-center u-justify-center u-p-2"},r.a.createElement(ae.a,{icon:r.a.createElement("img",{src:re.a,style:{height:208}}),iconSize:"large",title:e("Layout.onboardImportText")},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.8rem"}},r.a.createElement(U.default,{variant:"secondary",label:e("Layout.importFromButton")+" Pronote",startIcon:r.a.createElement("img",{src:ie.a,alt:"Pronote"}),style:{width:"100%"},onClick:function(){}}),r.a.createElement(U.default,{variant:"ghost",label:e("Layout.exploreServices"),style:{width:"100%"}}))))}),ce=Object(G.e)((function(e){var t=e.children,a=e.className,n=e.active,l=e.activeClassName,i=e.onClick;return r.a.createElement("a",{onClick:i,className:I()(a,n?l:null)},t)})),se=function(){var e=Object(m.useI18n)().t,t=Object(u.default)().isMobile,a=Object(i.useClient)(),n=Object(z.o)(),o=Object(z.m)().pathname.slice(1),c=j(),s=(c.currentAccount,c.setCurrentAccount,c.accountsList),d=(c.setAccountsList,c.fetchStatus),f=function(e){return{onClick:function(){n("/"+e.join("/"))},active:o.includes(e[0])}};return 0==s.length?r.a.createElement(R.b,null,r.a.createElement(l.BarComponent,null),r.a.createElement(R.c,null,r.a.createElement(R.a,null,"loaded"===d?r.a.createElement(oe,null):r.a.createElement(Y.a,null)))):r.a.createElement(R.b,null,r.a.createElement(J.a,null,!t&&r.a.createElement("div",{style:{margin:"1rem",marginBottom:"-0.5rem"}},r.a.createElement(te,null)),r.a.createElement(G.d,null,r.a.createElement(G.b,null,r.a.createElement(ce,f(["timetable"]),r.a.createElement(G.a,{icon:A.a}),r.a.createElement(G.c,null,e("Sidebar.timetable")))),r.a.createElement(G.b,null,r.a.createElement(ce,f(["homeworks"]),r.a.createElement(G.a,{icon:N.a}),r.a.createElement(G.c,null,e("Sidebar.homeworks")))),r.a.createElement(G.b,null,r.a.createElement(ce,f(["grades"]),r.a.createElement(G.a,{icon:T.a}),r.a.createElement(G.c,null,e("Sidebar.grades")))),r.a.createElement(G.b,null,r.a.createElement(ce,f(["presence"]),r.a.createElement(G.a,{icon:B.a}),r.a.createElement(G.c,null,e("Sidebar.presence")))))),r.a.createElement(l.BarComponent,null),r.a.createElement(R.c,null,r.a.createElement(R.a,null,t&&r.a.createElement(l.BarCenter,null,r.a.createElement(W.default,{variant:"h5"},a.appMetadata.slug)),r.a.createElement(z.b,null))),r.a.createElement(H.a,{t:e}))},ue=a("LGLP"),de=a.n(ue),me=a("QGb3"),fe=a.n(me),pe=a("F7WE"),be=a("OEPu"),ye=a("J58c"),ge=a.n(ye);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){ge()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=[{label:"accompagnementperso",pretty:"Accompagnement personnalisé",formats:{default:["accompagnement personnalise","accompagnemt perso"]},emoji:"🤝"},{label:"atprofessionnalis",pretty:"Atelier de professionnalisation",formats:{default:["atelier de professionnalisation","at professionnalis"]},emoji:"🔧"},{label:"artsplastiques",pretty:"Arts plastiques",formats:{default:["arts plastiques","artsplastiques"]},emoji:"🎨"},{label:"bloc1smdsi",pretty:"Bloc 1 : Support et mise a disposition des services informatiques",formats:{default:["bloc 1 support et mise a disposition des services informatiques","bloc 1 smdsi"]},emoji:"💻"},{label:"bloc2sisr",pretty:"Bloc 2 : Solutions d’infrastructure systemes et réseaux",formats:{default:["bloc 2 solutions d’infrastructure systemes et reseaux","bloc 2 sisr"]},emoji:"🔌"},{label:"bloc2slam",pretty:"Bloc 2 : Solutions logicielles et applications métiers",formats:{default:["bloc 2 solutions logicielles et applications metiers","bloc 2 slam"]},emoji:"📱"},{label:"bloc3tp",pretty:"Bloc 3 : Travaux pratiques",formats:{default:["bloc 3 travaux pratiques","bloc 3 tp"]},emoji:"🛠️"},{label:"culecojurmanapp",pretty:"Culture économique, juridique et managériale appliquée",formats:{default:["culture economique juridique et manageriale appliquee","cul eco jur man app"]},emoji:"💼"},{label:"culturegeneetexpr",pretty:"Culture génerale et expression",formats:{default:["culture generale et expression","culture gene et expr"]},emoji:"📚"},{label:"cultecojurmanag",pretty:"Culture économique, juridique et managériale",formats:{default:["culture economique juridique et manageriale","cult eco jur manag"]},emoji:"💼"},{label:"dnlsesanglais",pretty:"DNL : Sciences économiques et sociales en anglais",formats:{default:["dnl ses anglais"]},emoji:"🇬🇧"},{label:"educationcivique",pretty:"Éducation civique",formats:{default:["education civique","education civique"]},emoji:"🗳️"},{label:"enseignscientifique",pretty:"Enseignement scientifique",formats:{default:["enseignement scientifique","enseign scientifique"]},emoji:"🔬"},{label:"edphysiquesport",pretty:"Éducation physique & sportive",formats:{default:["education physique et sportive","ed physique sport","education physique et sportive","eps"]},emoji:"🏃"},{label:"educationmusicale",pretty:"Éducation musicale",formats:{default:["education musicale","education musicale"]},emoji:"🎵"},{label:"francais",pretty:"Français",formats:{default:["français","francais"]},emoji:"📝"},{label:"histoiregeo",pretty:"Histoire-Géographie",formats:{default:["histoire geographie","histoire geo","histoire geograph","histoire-geographie","histoire-geographie"]},emoji:"🌍"},{label:"humanlitterphilo",pretty:"Humanites, Littérature & Philosophie",formats:{default:["humanites litterature philosophie","human litter philo"]},emoji:"📖"},{label:"llcanglmondcont",pretty:"LLCER Anglais Monde Contemporain",formats:{default:["llcer anglais monde contemporain","llc angl mond cont"]},emoji:"🇬🇧"},{label:"mathspourinformatq",pretty:"Mathématiques pour l’Informatique",formats:{default:["mathematiques pour l’informatique","maths pour informatq"]},emoji:"🧮"},{label:"mathematiques",pretty:"Mathématiques",formats:{default:["mathematiques","mathematiques","mathematiques 1ere","math 1ere"]},emoji:"📐"},{label:"numeriquescinform",pretty:"Numérique & Sciences Informatiques",formats:{default:["numerique et sciences informatiques","numerique sc inform"]},emoji:"💻"},{label:"physiquechimie",pretty:"Physique-Chimie",formats:{default:["physique chimie","phys chim"]},emoji:"⚛️"},{label:"sceconosociales",pretty:"Sciences Économiques & Sociales",formats:{default:["sciences economiques et sociales","sc econo sociales","sciences economiques et sociales"]},emoji:"💰"},{label:"sciencesvieterre",pretty:"Sciences de la Vie & de la Terre",formats:{default:["sciences de la vie et de la terre","sciences de la vie et de la terre","sciences vie terre"]},emoji:"🌿"},{label:"scnumeriqtechnol",pretty:"Sciences Numériques & Technologie",formats:{default:["sciences numeriques et technologie","sc numeriq technol"]},emoji:"💻"},{label:"viedeclasse",pretty:"Vie de classe",formats:{default:["vie de classe","vie de classe"]},emoji:"👥"}],he=function(e){var t,a,n={expressionecrite:"expression écrite",expressionorale:"expression orale",comprehensionorale:"compréhension orale",comprehensionecrite:"compréhension écrite",ecrit:"écrit",oral:"oral"},r=e.toLowerCase().split(new RegExp(Object.keys(n).join("|")))[0].replace("ensscientifique",""),l=Ee.find((function(e){return e.label===r})),i=(null===(t=Object.entries(n).find((function(t){var a=y()(t,1)[0];return e.includes(a)})))||void 0===t?void 0:t[1])||"";return l?je(je({},l),{},{speciality:i}):{label:e,pretty:(a=r,a.length<4?a.toUpperCase():a.charAt(0).toUpperCase()+a.slice(1)),formats:{default:[e]},speciality:i}},xe=a("xr2j"),_e=a("4jS1"),Oe=function(e){var t=e.grade,a=e.j,n=e.subject,l={cozyGradeChip:{display:"flex",alignItems:"flex-end"}},i=Object(z.o)();return r.a.createElement("div",{key:t.id},r.a.createElement(_e.default,{button:!0,onClick:function(){i("/grades/grade/".concat(n._id,"/").concat(t.id))}},r.a.createElement(Z.default,null,r.a.createElement(W.default,{variant:"h3",color:"textPrimary"},he(n.subject).emoji||"📚")),r.a.createElement(ee.default,{primary:t.label||"Note sans titre",secondary:new Date(t.date).toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})}),r.a.createElement("div",{className:"cozy-grade-chip",style:l.cozyGradeChip},r.a.createElement(W.default,{variant:"body1",color:"textPrimary"},parseFloat(t.value.student).toFixed(2)),r.a.createElement(W.default,{variant:"body2",color:"textSecondary",style:{marginBottom:.5}},"/",parseFloat(t.value.outOf).toFixed(0)))),a!==n.series.length-1&&r.a.createElement(xe.a,{component:"li",variant:"inset"}))},we=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7B731","#6A5ACD","#FF69B4","#20B2AA","#FF7F50","#9370DB","#3CB371","#FF4500","#1E90FF","#FFD700","#8A2BE2","#32CD32","#FF1493","#00CED1","#FF8C00","#7B68EE","#00FA9A","#DC143C","#1ABC9C","#F39C12","#8E44AD","#2ECC71","#E74C3C","#3498DB","#F1C40F","#9B59B6","#2980B9","#E67E22","#27AE60","#D35400"];function De(e,t){if(0===e.length)return null;var a=function(e){for(var t=0,a=0;a<e.length;a++)t=Math.imul(31,t)+e.charCodeAt(a)|0;return function(){return(((t=Math.imul(31,t)+1|0)^t>>>15)>>>0)/4294967296}}(t);return e[Math.floor(a()*e.length)]}var Se=function(e){return De(we,e)},Pe=a("MRub"),Ce=function(e){var t=e.subject;return r.a.createElement(Pe.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"14px",flex:1,width:"100%",overflow:"hidden"}},r.a.createElement("div",{style:{width:"8px",height:"8px",backgroundColor:Se(t.subject),borderRadius:"50px"}}),r.a.createElement(W.default,{variant:"subtitle1",color:"textSecondary",noWrap:!0},he(t.subject).pretty||""),r.a.createElement(W.default,{variant:"caption",color:"textSecondary",noWrap:!0},he(t.subject).speciality||"")),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(W.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},parseFloat(t.aggregation.avgGrades).toFixed(2)),r.a.createElement(W.default,{variant:"body2",color:"textSecondary",style:{marginBottom:.5}},"/20"))))},ke=a("J14j"),Fe=a("gtDA"),Me=a("1Crc"),ze=function(e){var t=e.periodDropdownRef,a=e.selectedPeriod,n=e.setSelectedPeriod,l=e.setPeriodMenuOpen,i=e.periodMenuOpen,o=e.periods,c=e.t,s=e.textVariant;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return l(!i)},textVariant:s},a||c("Grades.selectPeriod")),r.a.createElement(Fe.a,{open:i,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return l(!1)}},o.map((function(e,t){return r.a.createElement(Me.a,{key:t,onClick:function(){n(e),l(!1)},selected:e===a},r.a.createElement(ee.default,{primary:e}))})),0===o.length&&r.a.createElement(Me.a,{disabled:!0},r.a.createElement(ee.default,{primary:c("Grades.emptyList.periods")}))))},Le=function(e){var t=e.yearDropdownRef,a=e.selectedYear,n=e.selectedPeriod,l=e.setSelectedYear,i=e.setYearMenuOpen,o=e.yearMenuOpen,c=e.allPeriods,s=e.t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return i(!o)}},a||s("Grades.selectYear")),r.a.createElement(Fe.a,{open:o,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return i(!1)}},fe()(new Set(c.filter((function(e){return e.title===n})).map((function(e){return e.year})))).map((function(e,t){return r.a.createElement(Me.a,{key:t,onClick:function(){l(e),i(!1)},selected:e===a},r.a.createElement(ee.default,{primary:e}))}))))},qe=function(e){var t=e.periodDropdownRef,a=e.yearDropdownRef,n=e.selectedPeriod,l=e.setSelectedPeriod,i=e.selectedYear,o=e.setSelectedYear,c=e.setPeriodMenuOpen,s=e.periodMenuOpen,u=e.setYearMenuOpen,d=e.yearMenuOpen,m=e.allPeriods,f=e.periods,p=e.years,b=e.t;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px"}},r.a.createElement(ze,{periodDropdownRef:t,selectedPeriod:n,setSelectedPeriod:l,setPeriodMenuOpen:c,periodMenuOpen:s,periods:f,t:b}),r.a.createElement(Le,{yearDropdownRef:a,selectedYear:i,setSelectedYear:o,setYearMenuOpen:u,yearMenuOpen:d,allPeriods:m,selectedPeriod:n,years:p,t:b}))},Ie=a("gQXR"),Ae=a("HFC8"),Ne=function(e){var t=e.title,a=e.children,n=e.loading,i=Object(u.default)().isMobile;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(l.BarCenter,null,r.a.createElement(W.default,{variant:"h5"},t)),r.a.createElement(l.BarRight,null,a,r.a.createElement("div",{style:{marginLeft:"1rem"}},r.a.createElement(te,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{square:!0,className:"u-p-1 u-w-100 u-flex u-flex-row u-flex-items-center u-flex-justify-between"},r.a.createElement(W.default,{variant:"h4",color:"textPrimary"},t),a)),n&&r.a.createElement(Ae.a,null),!i&&r.a.createElement(xe.a,null))},Te=function(){var e,t,a=Object(m.useI18n)().t,l=Object(u.default)().isMobile,o=j().currentAccount,c={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").where({title:t||{$gt:null},cozyMetadata:{sourceAccountIdentifier:e}}).indexFields(["cozyMetadata.sourceAccountIdentifier","title"])},options:{as:"io.cozy.timeseries.grades/account/"+(e=null==o?void 0:o.name)+"/period/"+t,fetchPolicy:g}},s=Object(i.useQuery)(c.definition,c.options),d=s.data,f="loading"==s.fetchStatus,p=fe()(new Set((null!=d?d:[]).map((function(e){return{title:e.title,year:new Date(e.startDate).getFullYear()}})))),b=fe()(new Set((null!=p?p:[]).map((function(e){return e.title})))),v=fe()(new Set((null!=p?p:[]).map((function(e){return e.year})))),E=Object(n.useState)(""),h=y()(E,2),x=h[0],_=h[1],O=Object(n.useState)(""),w=y()(O,2),D=w[0],S=w[1];Object(n.useEffect)((function(){x&&D&&function(e,t){if(!p.some((function(a){return a.title===e&&a.year===t}))){var a,n=null===(a=p.find((function(t){return t.title===e})))||void 0===a?void 0:a.year;n&&S(n)}}(x,D)}),[x,D]),""===x&&b.length>0&&_(b[0]),""===D&&v.length>0&&S(v[0]);var P=Object(n.useState)(!1),C=y()(P,2),k=C[0],F=C[1],M=Object(n.useState)(!1),L=y()(M,2),q=L[0],I=L[1],A=r.a.useRef(null),N=r.a.useRef(null),T=r.a.useRef(null),B=r.a.useRef(null),R={periodDropdownRef:A,yearDropdownRef:N,selectedPeriod:x,setSelectedPeriod:_,selectedYear:D,setSelectedYear:S,setPeriodMenuOpen:F,periodMenuOpen:k,setYearMenuOpen:I,yearMenuOpen:q,allPeriods:p,periods:b,years:v,t:a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.b,null),r.a.createElement(Ne,{title:l?r.a.createElement(ze,de()({textVariant:"h5"},R,{periodDropdownRef:T,yearDropdownRef:B})):a("Grades.title"),loading:f},l?r.a.createElement(Le,de()({},R,{yearDropdownRef:B})):r.a.createElement(qe,R)),0===(null!=d?d:[]).length&&!f&&r.a.createElement(ae.a,{icon:pe.a,title:a("Grades.emptyList.title"),text:a("Grades.emptyList.description"),centered:!0}),(null!=d?d:[]).filter((function(e){return e.title===x})).filter((function(e){return new Date(e.startDate).getFullYear()===parseInt(D)})).map((function(e,t){return r.a.createElement(be.default,{key:t,subheader:r.a.createElement(Ce,{subject:e})},e.series.map((function(t,a){return r.a.createElement(Oe,{key:a,grade:t,j:a,subject:e})})))})))},Be=a("Yb2N"),Re=a("+XJ+"),Ge=a("oRW6"),Ye=function(e){var t=e.event,a=e.j,n=e.group,l=Object(m.useI18n)().t;return r.a.createElement("div",{key:t._id},r.a.createElement(_e.default,{key:t._id},r.a.createElement(Z.default,null,r.a.createElement($.default,{icon:"DELAY"==t.xType?Ge.a:"ABSENCE"==t.xType?B.a:Re.a})),r.a.createElement(ee.default,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(W.default,{variant:"h6",noWrap:!0},"DELAY"==t.xType?l("Presence.delay"):"ABSENCE"==t.xType?l("Presence.absence"):l("Presence.presence")),r.a.createElement(W.default,{variant:"body1",noWrap:!0},t.label)),secondary:r.a.createElement(W.default,{variant:"body2",color:"textSecondary",noWrap:!0},new Date(t.start).toLocaleString("default",{weekday:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}))}),r.a.createElement(Be.a,{label:t.xJustified?l("Presence.justified"):t.label?l("Presence.justifiedUnreceivable"):l("Presence.notJustified"),color:t.xJustified?"success":t.label?"default":"error",disabled:!t.xJustified&&t.label})),a!==n.events.length-1&&r.a.createElement(xe.a,{component:"li",variant:"inset"}))};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){ge()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var He=function(){var e,t=Object(m.useI18n)().t,a=j().currentAccount,n={definition:function(){return Object(i.Q)("io.cozy.calendar.presence").where({start:{$gt:null},cozyMetadata:{sourceAccountIdentifier:e}}).sortBy([{start:"desc"}]).indexFields(["cozyMetadata.sourceAccountIdentifier","start"])},options:{as:"io.cozy.calendar.presence/account/"+(e=null==a?void 0:a.name),fetchPolicy:g}},l=Object(i.useQuery)(n.definition,n.options),o=l.data,c="loading"==l.fetchStatus,s=(null!=o?o:[]).reduce((function(e,t){var a=new Date(t.start).getMonth();return e.find((function(e){return e.month===a}))?e.map((function(e){return e.month===a?We(We({},e),{},{events:[].concat(fe()(e.events),[t])}):e})):[].concat(fe()(e),[{month:a,prettyMonth:new Date(t.start).toLocaleString("default",{month:"long",year:"numeric"}),events:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ne,{title:t("Presence.title"),loading:c}),0===s.length&&!c&&r.a.createElement(ae.a,{icon:r.a.createElement(pe.a,null),title:t("Presence.emptyList.title"),description:t("Presence.emptyList.description")}),s.map((function(e){return r.a.createElement(be.default,{key:e.month},r.a.createElement(Pe.a,null,r.a.createElement(W.default,{variant:"subtitle2",color:"textSecondary"},e.prettyMonth)),e.events.map((function(t,a){return r.a.createElement(Ye,{key:t._id,event:t,j:a,group:e})})))}))))},Qe=a("13md"),Ve=a("2Kpg"),Ue=function(e){var t=e.hw,a=e.j,n=e.day,l=Object(z.o)();return r.a.createElement("div",{key:a},r.a.createElement(_e.default,{button:!0,onClick:function(){l("homework/".concat(t._id))}},r.a.createElement(Z.default,null,r.a.createElement(Ve.default,{checked:t.completed,disabled:!0})),r.a.createElement(ee.default,{primary:r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:Se(t.subject)}}),r.a.createElement(W.default,{variant:"subtitle2",color:"textSecondary"},he(t.subject).pretty)),secondary:r.a.createElement(W.default,{variant:"body1",color:"textPrimary",noWrap:!0},t.summary)})),a<n.hws.length-1&&r.a.createElement(xe.a,{component:"li",variant:"inset"}))};function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){ge()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ke=function(){var e,t=Object(m.useI18n)().t,a=j().currentAccount,n={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").where({dueDate:{$gt:null},cozyMetadata:{sourceAccountIdentifier:e}}).sortBy([{dueDate:"desc"}]).indexFields(["cozyMetadata.sourceAccountIdentifier","dueDate"])},options:{as:"io.cozy.calendar.todos/account/"+(e=null==a?void 0:a.name),fetchPolicy:g}},l=Object(i.useQuery)(n.definition,n.options),o=l.data,c=l.fetchStatus,s=l.hasMore,u=l.fetchMore,d="loading"==c,f=(null!=o?o:[]).reduce((function(e,t){var a=t.dueDate.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"),n=new Date(a),r=n.toISOString();return e.find((function(e){return e.date===r}))?e.map((function(e){return e.date===r?Xe(Xe({},e),{},{hws:[].concat(fe()(e.hws),[t])}):e})):[].concat(fe()(e),[{date:n.toISOString(),hws:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.b,null),r.a.createElement("div",null,r.a.createElement(Ne,{title:t("Homeworks.title"),loading:d}),0===f.length&&!d&&r.a.createElement(ae.a,{icon:pe.a,title:t("Homeworks.emptyList.title"),description:t("Homeworks.emptyList.description")}),r.a.createElement("div",{style:{height:"100%",overflow:"auto",overflowY:"scroll"}},f.map((function(e,t){return r.a.createElement(be.default,{key:t,className:e.current?"current":""},r.a.createElement(Pe.a,null,r.a.createElement(W.default,{variant:"subtitle2",color:"textSecondary"},new Date(e.date).toLocaleDateString("default",{weekday:"long",month:"long",day:"numeric",year:"numeric"}))),e.hws.map((function(t,a){return r.a.createElement(Ue,{key:a,hw:t,j:a,day:e})})))})),s&&r.a.createElement(Qe.a,{label:t("Homeworks.loadMore"),fetchMore:u}))))},Ze=a("HCvV"),et=a("K4g+"),tt=a("Mb5X"),at=function(e){var t=e.date,a=e.onDateChange,l=e.textVariant,i=Object(n.useState)(new Date(t)),o=y()(i,2),c=o[0],s=o[1],d=Object(m.useI18n)().t,f=Object(u.default)().isMobile;Object(n.useEffect)((function(){a&&a(c)}),[c]);var p=Object(n.useState)(c.getDate()),b=y()(p,2),g=b[0],v=b[1],j=Object(n.useState)(c.getMonth()),E=y()(j,2),h=E[0],x=E[1],_=Object(n.useState)(c.getFullYear()),O=y()(_,2),w=O[0],D=O[1],S=r.a.useRef(null),P=r.a.useRef(null),C=r.a.useRef(null),k=Object(n.useState)(!1),F=y()(k,2),M=F[0],z=F[1],L=Object(n.useState)(!1),q=y()(L,2),I=q[0],A=q[1],N=Object(n.useState)(!1),T=y()(N,2),B=T[0],R=T[1],G=function(e,t){for(var a=new Date(e,t,0).getDate(),n=[],r=1;r<=a;r++){1===new Date(e,t-1,r).getDay()&&n.push(r)}return n};Object(n.useEffect)((function(){var e=G(w,h+1),t=g;e.includes(g)||(t=e.reduce((function(e,t){return Math.abs(t-g)<Math.abs(e-g)?t:e}))),s(new Date(w,h,t))}),[g,h,w]);return r.a.createElement("div",{style:{display:"flex",gap:"h5"==l?"6px":"12px"}},r.a.createElement(ke.a,{ref:S,onClick:function(){return z(!0)},textVariant:l},c.toLocaleDateString("default",{day:"2-digit"})),r.a.createElement(ke.a,{ref:P,onClick:function(){return A(!0)},textVariant:l},c.toLocaleDateString("default",{month:"long"})),r.a.createElement(ke.a,{ref:C,onClick:function(){return R(!0)},textVariant:l},c.toLocaleDateString("default",{year:"numeric"})),!f&&r.a.createElement("div",{style:{margin:"-4px 2px",marginLeft:"6px",gap:"8px",display:"flex",border:"1px solid var(--hintTextColor)",borderRadius:"40px",padding:"3px 6px"}},r.a.createElement(Ze.default,{size:"small",onClick:function(){return(e=new Date(c)).setDate(c.getDate()-7),void s(e);var e}},r.a.createElement($.default,{icon:et.a})),r.a.createElement(Ze.default,{size:"small",onClick:function(){return(e=new Date(c)).setDate(c.getDate()+7),void s(e);var e}},r.a.createElement($.default,{icon:tt.default}))),r.a.createElement(Fe.a,{open:M,anchorEl:S.current,keepMounted:!0,onClose:function(){return z(!1)}},G(w,h+1).map((function(e){return r.a.createElement(Me.a,{key:e,selected:e===c.getDate(),onClick:function(){v(e),z(!1)}},e," ",d("Timetable.to")," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(c.getFullYear(),e,0);return a.setDate(a.getDate()+t),a.getDate()}(h,6))}))),r.a.createElement(Fe.a,{open:I,anchorEl:P.current,keepMounted:!0,onClose:function(){return A(!1)}},fe()(Array(12).keys()).map((function(e){return r.a.createElement(Me.a,{key:e,selected:e===c.getMonth(),onClick:function(){x(e),A(!1)}},new Date(0,e).toLocaleDateString("default",{month:"long"}))}))),r.a.createElement(Fe.a,{open:B,anchorEl:C.current,keepMounted:!0,onClose:function(){return R(!1)}},fe()(Array(30).keys()).map((function(e){return r.a.createElement(Me.a,{key:e,selected:c.getFullYear()+e-10===c.getFullYear(),onClick:function(){D(c.getFullYear()+e-10),R(!1)}},c.getFullYear()+e-10)}))))},nt=function(e,t){var a=t-e,n=Math.floor(a/36e5),r=Math.floor(a%36e5/6e4);return n?"".concat(n,"h ").concat(r,"min"):"".concat(r,"min")};function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(a),!0).forEach((function(t){ge()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var it=function(e){var t=e.color,a=e.style;return r.a.createElement("div",{style:lt(lt({},a),{},{minWidth:"4px",backgroundColor:t||"#888"}),className:"u-flex u-flex-items-center u-flex-justify-center u-h-3 u-bdrs-4"})},ot=function(e){var t=e.course,a=Object(z.o)(),n=Object(m.useI18n)().t;return r.a.createElement(_e.default,{key:t._id,button:!0,onClick:function(){a("/timetable/course/".concat(t._id))},disabled:"CANCELLED"==t.status,style:{height:92}},r.a.createElement(it,{color:Se(t.subject)}),r.a.createElement(ee.default,{primary:r.a.createElement(r.a.Fragment,null,"CANCELLED"!==t.status?r.a.createElement("div",{style:{display:"flex",gap:"4px",alignItems:"center"}},r.a.createElement(W.default,{variant:"subtitle2",color:"textPrimary",noWrap:!0},new Date(t.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," "),r.a.createElement(W.default,{variant:"body2",color:"textSecondary",noWrap:!0,style:{fontWeight:400,fontSize:12}},"| ",nt(new Date(t.start),new Date(t.end)))):r.a.createElement(W.default,{variant:"subtitle2",color:"error",noWrap:!0},n("Timetable.cancelled")),r.a.createElement(W.default,{variant:"h6",color:"textPrimary",noWrap:!0},he(t.subject).pretty)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(W.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.location),r.a.createElement(W.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.organizer))}))},ct=function(e){var t=e.end,a=e.start,n=Object(m.useI18n)().t,l=nt(t,a),i=t.getHours()>11&&a.getHours()<14;return r.a.createElement(_e.default,{button:!0,style:{backgroundColor:"var(--secondaryBackground)",height:92}},r.a.createElement(it,{color:"var(--secondaryColor)",style:{opacity:.3}}),r.a.createElement(ee.default,{primary:n(i?"Timetable.pauseMidday":"Timetable.pauseNoCourses"),secondary:"".concat(n("Timetable.during")," ").concat(l)}))},st=function(e){var t,a,n,l,i,o=e.day,c=e.timetable,s=Object(m.useI18n)().t,u=null!==(t=null===(a=null!==(n=c.find((function(e){return e.date===o.toISOString()})))&&void 0!==n?n:{courses:[]})||void 0===a?void 0:a.courses)&&void 0!==t?t:[];return r.a.createElement("div",{key:o.toISOString(),style:{overflowX:"hidden"},className:"u-flex u-flex-column u-w-100 u-h-100"},r.a.createElement(be.default,null,r.a.createElement(Pe.a,null,o.toLocaleDateString("default",{weekday:"long",day:"2-digit"})),u.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,{course:e,key:e._id}),u[t+1]&&new Date(e.end).getTime()+36e5<new Date(u[t+1].start).getTime()&&r.a.createElement(ct,{end:new Date(e.end),start:new Date(u[t+1].start)}))})),0===(null===(l=null!==(i=c.find((function(e){return e.date===o.toISOString()})))&&void 0!==i?i:{courses:[]})||void 0===l?void 0:l.courses.length)&&r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100"},r.a.createElement(W.default,{variant:"body2",color:"textSecondary"},s("Timetable.noCourses")))))};function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(a),!0).forEach((function(t){ge()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mt=function(){var e=Object(m.useI18n)().t,t=Object(u.default)().isMobile,a=j().currentAccount,l=Object(n.useState)(new Date),o=y()(l,2),c=o[0],s=o[1];Object(n.useEffect)((function(){var e=new Date(c);e.setDate(e.getDate()-(e.getDay()-1)),e.setHours(0,0,0,0),e.getDate()!==c.getDate()&&s(new Date(e))}),[c]);var d,f,p,b=Object(n.useMemo)((function(){var e=new Date(c);return e.setDate(e.getDate()+6),e}),[c]),v={definition:function(){return Object(i.Q)("io.cozy.calendar.events").where({start:p?{$lte:p,$gte:f}:{$gte:f},cozyMetadata:{sourceAccountIdentifier:d}}).indexFields(["cozyMetadata.sourceAccountIdentifier","start"])},options:{as:"io.cozy.calendar.events/account/"+(d=null==a?void 0:a.name)+"/start/"+(f=c)+"/end/"+(p=b),fetchPolicy:g}},E=Object(i.useQuery)(v.definition,v.options),h=E.data,x=E.fetchStatus,_=Object(n.useMemo)((function(){return fe()(Array(6).keys()).map((function(e){var t=new Date(c);return t.setDate(t.getDate()+e),t.setHours(0,0,0,0),t}))}),[c]),O=Object(n.useMemo)((function(){return(null!=h?h:[]).reduce((function(e,t){var a=new Date(t.start);a.setHours(0,0,0,0);var n=a.toISOString();return e.find((function(e){return e.date===n}))?e.map((function(e){return e.date===n?dt(dt({},e),{},{courses:[].concat(fe()(e.courses),[t])}):e})):[].concat(fe()(e),[{date:a.toISOString(),courses:[t]}])}),[])}),[h]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.b,null),r.a.createElement("div",null,r.a.createElement(Ne,{title:t?r.a.createElement(at,{date:c,onDateChange:function(e){return s(e)},textVariant:"h5"}):e("Timetable.title")},!t&&r.a.createElement(at,{date:c,onDateChange:function(e){return s(e)},textVariant:"subtitle1"})),0!==O.length?r.a.createElement("div",{style:{flexDirection:t?"column":"row"},className:"u-flex u-w-100 u-h-100"},(null!=_?_:[]).map((function(e){return 6!==e.getDay()||O.find((function(t){return t.date===e.toISOString()}))?r.a.createElement(st,{day:e,timetable:O,key:e.toISOString()}):null}))):r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100 u-h-100"},"loading"===x?r.a.createElement(Y.a,null):r.a.createElement(W.default,{variant:"h6",color:"textSecondary"},e("Timetable.noCourses")))))},ft=a("tRUj"),pt=a("PfmE"),bt=a("KsnS"),yt=a("LFaT"),gt=function(e){var t=e.subject,a=e.date;return r.a.createElement("div",{style:{gap:16},className:"u-flex u-flex-items-center"},r.a.createElement(W.default,{variant:"h3"},t&&(he(t).emoji||"📚")),r.a.createElement("div",null,r.a.createElement(W.default,{variant:"h6"},t&&he(t).pretty),a&&r.a.createElement(W.default,{variant:"subtitle2",color:"textSecondary"},new Date(a).toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))))},vt=function(){var e,t,a,n,l=Object(z.q)().courseId,o=Object(z.o)(),c={definition:function(){return Object(i.Q)("io.cozy.calendar.events").getById(n)},options:{as:"io.cozy.calendar.events/"+(n=l),fetchPolicy:g,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=Object(m.useI18n)().t,d=s?[{title:u("Timetable.start"),subtitle:new Date(s.start).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:Ge.a},{title:u("Timetable.end"),subtitle:new Date(s.end).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:pt.a}]:[],f=s?[{title:u("Timetable.location"),subtitle:null!==(e=s.location)&&void 0!==e?e:"Non défini",icon:K.default},{title:u("Timetable.teacher"),subtitle:null!==(t=s.organizer)&&void 0!==t?t:"Non défini",icon:yt.a},{title:u("Timetable.status"),subtitle:"CONFIRMED"==(null!==(a=s.status)&&void 0!==a?a:"")?"Maintenu":"Non maintenu",icon:bt.a}]:[];return r.a.createElement(ft.a,{open:!0,disableGutters:!0,onClose:function(){return o("..",{replace:!0})},title:r.a.createElement(gt,{subject:null==s?void 0:s.subject,date:null==s?void 0:s.start}),content:r.a.createElement("div",null,r.a.createElement(be.default,null,r.a.createElement(Pe.a,null,u("Timetable.duration")),d.map((function(e,t){return r.a.createElement(_e.default,{key:t},r.a.createElement(Z.default,null,e.icon&&r.a.createElement($.default,{icon:e.icon})),r.a.createElement(ee.default,{primary:e.title,secondary:e.subtitle}))}))),r.a.createElement(be.default,null,r.a.createElement(Pe.a,null,u("Timetable.informations")),f.map((function(e,t){return r.a.createElement(_e.default,{key:t},r.a.createElement(Z.default,null,e.icon&&r.a.createElement($.default,{icon:e.icon})),r.a.createElement(ee.default,{primary:e.title,secondary:e.subtitle}))}))))})},jt=a("YJvl"),Et=a("iSyh"),ht=a("fzn7"),xt=a("mfku"),_t=a("dJzJ"),Ot=function(){var e,t=Object(m.useI18n)().t,a=Object(z.q)(),n=a.subjectId,l=a.gradeId,o=Object(z.o)(),c={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").getById(e)},options:{as:"io.cozy.timeseries.grades/"+(e=n),fetchPolicy:g,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=s&&s.series.find((function(e){return e.id===l})),d=u?[{primary:t("Grades.values.student.title"),secondary:t("Grades.values.student.description"),value:"".concat(parseFloat(u.value.student).toFixed(2)),icon:T.a,important:!0},{primary:t("Grades.values.class.title"),secondary:t("Grades.values.class.description"),value:"".concat(parseFloat(u.value.classAverage).toFixed(2)),icon:_t.a},u.value.classMax>=0&&{primary:t("Grades.values.max.title"),secondary:t("Grades.values.max.description"),value:"".concat(parseFloat(u.value.classMax).toFixed(2)),icon:Et.a},u.value.classMin>=0&&{primary:t("Grades.values.min.title"),secondary:t("Grades.values.min.description"),value:"".concat(parseFloat(u.value.classMin).toFixed(2)),icon:ht.a}]:[];return r.a.createElement(ft.a,{open:!0,onClose:function(){return o("..",{replace:!0})},disableGutters:!0,title:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2px"}},r.a.createElement(jt.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement(W.default,{variant:"h5",style:{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",border:"1px solid var(--secondaryColorLightest)"}},s&&(he(s.subject).emoji||"📚")),r.a.createElement(W.default,{variant:"subtitle1",color:"textSecondary"},s&&(he(s.subject).pretty||"Aucune matière"))),r.a.createElement(W.default,{variant:"subtitle1",color:"textPrimary"},u&&(u.label||"Note sans titre"))),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(W.default,{variant:"h2",color:"textPrimary"},u&&parseFloat(u.value.student).toFixed(2)),r.a.createElement(W.default,{variant:"body1",color:"textSecondary",style:{marginBottom:"2px"}},"/",u&&u.value.outOf))),content:r.a.createElement("div",null,r.a.createElement(be.default,{subheader:r.a.createElement(Pe.a,null,t("Grades.dialogContext"))},r.a.createElement(_e.default,null,r.a.createElement(Z.default,null,r.a.createElement($.default,{icon:A.a})),r.a.createElement(ee.default,{primary:t("Grades.date"),secondary:u&&new Date(u.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})),r.a.createElement(xe.a,{component:"li",variant:"inset"}),r.a.createElement(_e.default,null,r.a.createElement(Z.default,null,r.a.createElement($.default,{icon:xt.a})),r.a.createElement(ee.default,{primary:t("Grades.values.coefficient.title"),secondary:t("Grades.values.coefficient.description")}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(W.default,{variant:"body2",color:"textSecondary"},"x"),r.a.createElement(W.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},u&&parseFloat(u.value.coef).toFixed(2))))),r.a.createElement(be.default,{subheader:r.a.createElement(Pe.a,null,t("Grades.valuesList"))},d.map((function(e,t){return e&&r.a.createElement("div",{key:t},r.a.createElement(_e.default,null,r.a.createElement(Z.default,null,r.a.createElement($.default,{icon:e.icon})),r.a.createElement(ee.default,{primary:r.a.createElement(W.default,{variant:"body1",style:{fontWeight:e.important?"bold":"normal"}},e.primary),secondary:e.secondary}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(W.default,{variant:"body1",color:"textPrimary",style:{fontWeight:e.important?"bold":"normal"}},parseFloat(e.value).toFixed(2)),r.a.createElement(W.default,{variant:"body2",color:"textSecondary"},"/",parseFloat(u.value.outOf).toFixed(0)))),t!==d.filter(Boolean).length-1&&r.a.createElement(xe.a,{component:"li",variant:"inset"}))}))))})},wt=function(){var e,t,a,n=Object(z.q)().homeworkId,l=Object(z.o)(),o={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").getById(a)},options:{as:"io.cozy.calendar.todos/"+(a=n),fetchPolicy:g,singleDocData:!0}},c=Object(i.useQuery)(o.definition,o.options).data,s=(null==c?void 0:c.dueDate)&&(null==c||null===(e=c.dueDate)||void 0===e?void 0:e.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"));return r.a.createElement(ft.a,{open:!0,onClose:function(){return l("..",{replace:!0})},title:r.a.createElement(gt,{subject:null==c?void 0:c.subject,date:s}),content:null!==(t=null==c?void 0:c.summary)&&void 0!==t?t:""})},Dt=[{path:"",element:r.a.createElement(se,null),children:[{path:"timetable",element:r.a.createElement(mt,null),children:[{path:"course/:courseId",element:r.a.createElement(vt,null)}]},{path:"homeworks",element:r.a.createElement(Ke,null),children:[{path:"homework/:homeworkId",element:r.a.createElement(wt,null)}]},{path:"grades",element:r.a.createElement(Te,null),children:[{path:"grade/:subjectId/:gradeId",element:r.a.createElement(Ot,null)}]},{path:"presence",element:r.a.createElement(He,null)},{path:"",element:r.a.createElement(z.a,{replace:!0,to:"/timetable"})}]}],St=function(){var e=Object(L.b)(Dt);return r.a.createElement(L.a,{router:e})},Pt=a("BoVd"),Ct=a.n(Pt);document.addEventListener("DOMContentLoaded",(function(){var e,t,a,n,l;e=M(),t=e.root,a=e.client,n=e.lang,l=e.polyglot,t.render(r.a.createElement(x,{client:a,lang:n,polyglot:l},r.a.createElement(St,null),P()("debug")&&r.a.createElement(Ct.a,null)))}))},vaJB:function(e,t){e.exports="/img/pronote.93e57ca9d57ae065311dcae0a35e62a4.svg"},zsXZ:function(e,t){e.exports="/img/import-school.7e60fa0f81601afae8d4a65b1b48a175.svg"}});