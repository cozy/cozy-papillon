!function(e){function t(t){for(var n,i,l=t[0],c=t[1],s=t[2],d=0,m=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var c=a[l];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([0,1]),a()}({0:function(e,t,a){a("jI5P"),e.exports=a("nXPL")},1:function(e,t){},2:function(e,t){},"2maa":function(e){e.exports=JSON.parse('{"Layout":{"onboardImportText":"Import your school data","importFromButton":"Import from","exploreServices":"Explore services"},"Sidebar":{"timetable":"Timetable","homeworks":"Homeworks","grades":"Grades","presence":"Attendance"},"Timetable":{"title":"Timetable","to":"to","start":"Start","end":"End","location":"Location","teacher":"Teacher","status":"Status","duration":"Duration","informations":"Informations","noCourses":"No courses","cancelled":"Cancelled course","pauseNoCourses":"No lessons","pauseMidday":"Midday break","during":"during"},"Homeworks":{"title":"Homeworks","emptyList":{"title":"No homeworks found","description":"There are no homeworks saved in your account"},"loadMore":"Load more homeworks"},"Grades":{"title":"Grades","dialogContext":"Informations","date":"Date","valuesList":"Results and averages","emptyList":{"title":"No grades","description":"You don\'t have any grades for this period","periods":"No available period"},"selectPeriod":"Select a period","selectYear":"Select a year","values":{"student":{"title":"Student\'s grade","description":"Grade you got for this subject"},"class":{"title":"Class average","description":"Class average for this subject"},"max":{"title":"Class best grade","description":"Best grade of the class for this subject"},"min":{"title":"Class worst grade","description":"Worst grade of the class for this subject"},"coefficient":{"title":"Coefficient","description":"Weight of this grade in your overall average"}}},"Presence":{"title":"Attendance","delay":"Delay","absence":"Absence","presence":"Event","justified":"Justified","notJustified":"Not justified","justifiedUnreceivable":"Justified (unreceivable)","emptyList":{"title":"No attendance events","description":"You don\'t have any attendance events"}}}')},"5z4W":function(e,t){e.exports={name:"Papillon",slug:"papillon",version:"1.1.0",type:"webapp",icon:"icon.svg",categories:["others"],source:"https://github.com/cozy/cozy-papillon",editor:"Cozy",developer:{name:"Cozy Cloud",url:"https://cozy.io"},licence:"AGPL-3.0",routes:{"/":{folder:"/",index:"index.html",public:!1}},locales:{en:{short_description:"Visualize all your school data",long_description:"This application allows you to view data from your school life tools (such as Pronote).\n\n<br>This data is secure and visible only to you, just like all your Cozy data.\n\n<br>The data is presented in 4 groups:\n\nüìÜ Schedule\n\n‚úÖ Homework\n\nüìâ Grades\n\nüö∂‚Äç‚û°Ô∏è School life\n\n<br>It can be imported automatically every day through the Pronote Connector or Ecole Directe (currently in development).\n\n<br>Note: Files such as your homework, submitted assignments, term reports, etc., are archived and accessible through the Drive application of your Cozy.",screenshots:["screenshots/fr/screenshot01.png"]},fr:{short_description:"Visualisez l'ensemble de vos donn√©es scolaires.",long_description:"Cette application vous permet de visualiser les donn√©es issues de vos outils de vie scolaire (Pronote par exemple).\n\n<br>Ces donn√©es y sont s√©curis√©es et visibles seulement par vous-m√™me, comme toutes les donn√©es de votre Cozy.\n\n<br>Les donn√©es sont pr√©sent√©es en 4 groupes :\n\n- üìÜ Emploi du temps\n\n- ‚úÖ Travail √† faire\n\n- üìâ Notes\n\n- üö∂‚Äç‚û°Ô∏è Vie scolaire\n\n<br>Elles peuvent y √™tre import√©es chaque jour automatiquement par le Connecteur Pronote ou Ecole directe (en cours de d√©veloppement).\n\n<br>Note : les fichiers de vos devoirs, travaux rendus, bulletins trimestriels, etc. sont eux archiv√©s et utilisables gr√¢ce √† l'application Drive de votre Cozy.",screenshots:["screenshots/fr/screenshot01.png"]}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},files:{type:"io.cozy.files",description:"Required by Papillon",verbs:["GET"]},calendar:{type:"io.cozy.calendar.*",description:"Required by Papillon",verbs:["GET"]},grades:{type:"io.cozy.timeseries.grades",description:"Required by Papillon",verbs:["GET"]},accounts:{type:"io.cozy.accounts",description:"Required by Papillon",verbs:["GET"]},identities:{type:"io.cozy.identities",description:"Required by Papillon",verbs:["GET"]}}}},"7SaY":function(e,t,a){},"7z1u":function(e,t,a){var n={"./_lib/build_formatting_tokens_reg_exp/index.js":"5XOE","./ar/build_distance_in_words_locale/index.js":"qs6D","./ar/build_format_locale/index.js":"80pQ","./ar/index.js":"n4NV","./be/build_distance_in_words_locale/index.js":"b7Vp","./be/build_format_locale/index.js":"STnx","./be/index.js":"ka/z","./bg/build_distance_in_words_locale/index.js":"fyh8","./bg/build_format_locale/index.js":"STBG","./bg/index.js":"BBHR","./ca/build_distance_in_words_locale/index.js":"4d8B","./ca/build_format_locale/index.js":"a88X","./ca/index.js":"Nz94","./cs/build_distance_in_words_locale/index.js":"70Ht","./cs/build_format_locale/index.js":"R/Ak","./cs/index.js":"oAfY","./da/build_distance_in_words_locale/index.js":"HjC7","./da/build_format_locale/index.js":"G0Zw","./da/index.js":"CJpN","./de/build_distance_in_words_locale/index.js":"DD2N","./de/build_format_locale/index.js":"pnJo","./de/index.js":"eBmD","./el/build_distance_in_words_locale/index.js":"tFqT","./el/build_format_locale/index.js":"twcE","./el/index.js":"m1rb","./en/build_distance_in_words_locale/index.js":"bjbr","./en/build_format_locale/index.js":"EW2Y","./en/index.js":"VkMk","./eo/build_distance_in_words_locale/index.js":"ujJO","./eo/build_format_locale/index.js":"S5Gq","./eo/index.js":"nn7U","./es/build_distance_in_words_locale/index.js":"h+mB","./es/build_format_locale/index.js":"Q4jc","./es/index.js":"4yJR","./fi/build_distance_in_words_locale/index.js":"Fpie","./fi/build_format_locale/index.js":"LTnX","./fi/index.js":"G/Qn","./fil/build_distance_in_words_locale/index.js":"VRy5","./fil/build_format_locale/index.js":"syEd","./fil/index.js":"k8V/","./fr/build_distance_in_words_locale/index.js":"nJeE","./fr/build_format_locale/index.js":"DeP4","./fr/index.js":"+owv","./hr/build_distance_in_words_locale/index.js":"Fs/O","./hr/build_format_locale/index.js":"ZlNX","./hr/index.js":"Kj+b","./hu/build_distance_in_words_locale/index.js":"8okG","./hu/build_format_locale/index.js":"lk8B","./hu/index.js":"+KHA","./id/build_distance_in_words_locale/index.js":"50BR","./id/build_format_locale/index.js":"18Vb","./id/index.js":"anKN","./is/build_distance_in_words_locale/index.js":"qUeK","./is/build_format_locale/index.js":"IcCt","./is/index.js":"4QE/","./it/build_distance_in_words_locale/index.js":"PCcA","./it/build_format_locale/index.js":"V71f","./it/index.js":"qK4z","./ja/build_distance_in_words_locale/index.js":"5vSx","./ja/build_format_locale/index.js":"CAsz","./ja/index.js":"XcQu","./ko/build_distance_in_words_locale/index.js":"jKsw","./ko/build_format_locale/index.js":"UEmh","./ko/index.js":"zOJj","./mk/build_distance_in_words_locale/index.js":"fcCd","./mk/build_format_locale/index.js":"re9F","./mk/index.js":"FDmM","./nb/build_distance_in_words_locale/index.js":"aEqN","./nb/build_format_locale/index.js":"pNMw","./nb/index.js":"mR4k","./nl/build_distance_in_words_locale/index.js":"7u2d","./nl/build_format_locale/index.js":"3riD","./nl/index.js":"06P9","./pl/build_distance_in_words_locale/index.js":"rygU","./pl/build_format_locale/index.js":"july","./pl/index.js":"vOlg","./pt/build_distance_in_words_locale/index.js":"sLR+","./pt/build_format_locale/index.js":"ZP65","./pt/index.js":"vSZg","./ro/build_distance_in_words_locale/index.js":"eJyG","./ro/build_format_locale/index.js":"fLwW","./ro/index.js":"OuEP","./ru/build_distance_in_words_locale/index.js":"KjgK","./ru/build_format_locale/index.js":"Tqgg","./ru/index.js":"T3Gn","./sk/build_distance_in_words_locale/index.js":"38t1","./sk/build_format_locale/index.js":"myxh","./sk/index.js":"In70","./sl/build_distance_in_words_locale/index.js":"Mhi5","./sl/build_format_locale/index.js":"yfgk","./sl/index.js":"D9r0","./sr/build_distance_in_words_locale/index.js":"I8h+","./sr/build_format_locale/index.js":"0FXG","./sr/index.js":"lQaB","./sv/build_distance_in_words_locale/index.js":"z6xu","./sv/build_format_locale/index.js":"jmSq","./sv/index.js":"SMJc","./th/build_distance_in_words_locale/index.js":"qHE1","./th/build_format_locale/index.js":"+W4l","./th/index.js":"5DsP","./tr/build_distance_in_words_locale/index.js":"0z6Z","./tr/build_format_locale/index.js":"NK/q","./tr/index.js":"OevD","./zh_cn/build_distance_in_words_locale/index.js":"SBqD","./zh_cn/build_format_locale/index.js":"219J","./zh_cn/index.js":"QhI5","./zh_tw/build_distance_in_words_locale/index.js":"7Fp2","./zh_tw/build_format_locale/index.js":"l09L","./zh_tw/index.js":"TDp1"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="7z1u"},Hsuv:function(e){e.exports=JSON.parse('{"Layout":{"onboardImportText":"Importez vos donn√©es scolaires","importFromButton":"Importer depuis","exploreServices":"Explorer les services"},"Sidebar":{"timetable":"Emploi du temps","homeworks":"Travail √† faire","grades":"Notes","presence":"Vie scolaire"},"Timetable":{"title":"Emploi du temps","to":"au","start":"D√©but","end":"Fin","location":"Lieu","teacher":"Professeur","status":"Statut","duration":"Dur√©e","informations":"Informations","noCourses":"Aucun cours","cancelled":"Cours annul√©","pauseNoCourses":"Pas de cours","pauseMidday":"Pause m√©ridienne","during":"pendant"},"Homeworks":{"title":"Travail √† faire","emptyList":{"title":"Aucun devoir","description":"Il n\'y a pas de devoirs sauvegard√©s dans votre compte"},"loadMore":"Charger plus de devoirs"},"Grades":{"title":"Notes","dialogContext":"Informations","date":"Date","valuesList":"R√©sultats et moyennes","emptyList":{"title":"Aucune note disponible","description":"Vous n\'avez pas de notes pour cette p√©riode","periods":"Aucune p√©riode disponible"},"selectPeriod":"S√©lectionner une p√©riode","selectYear":"S√©lectionner une ann√©e","values":{"student":{"title":"Note de l\'√©l√®ve","description":"Votre note obtenue pour ce sujet"},"class":{"title":"Moyenne de la classe","description":"La moyenne de la classe pour ce sujet"},"max":{"title":"Note haute de la classe","description":"La meilleure note de la classe pour ce sujet"},"min":{"title":"Note basse de la classe","description":"La moins bonne note de la classe pour ce sujet"},"coefficient":{"title":"Coefficient","description":"Poids de cette note dans le calcul de la moyenne g√©n√©rale"}}},"Presence":{"title":"Vie scolaire","delay":"Retard","absence":"Absence","presence":"√âv√®nement","justified":"Justifi√©(e)","notJustified":"Injustifi√©(e)","justifiedUnreceivable":"Motif non valable","emptyList":{"title":"Aucun √©venement","description":"Vous n\'avez pas d\'√©venements de vie scolaire"}}}')},eUFy:function(e,t,a){var n={"./en":"2maa","./en.json":"2maa","./fr":"Hsuv","./fr.json":"Hsuv"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="eUFy"},nXPL:function(e,t,a){"use strict";a.r(t);a("k37E"),a("QLHQ"),a("oULE"),a("7SaY");var n=a("ivGQ"),r=a.n(n),o=a("p/pw"),i=a("xEu0"),l=a.n(i),c=a("HROS"),s=a("vTbG"),u=a("Rx+m"),d=a("5LIP"),m=a("Aaol"),f=a("0Lot"),p=a("BqmN"),y=a("XkwL"),b=a.n(y),g=l.a.fetchPolicies.olderThan(54e4),v=Object(n.createContext)(),h=function(){return r.a.useContext(v)},j=function(e){var t=e.children,a=Object(n.useState)(null),o=b()(a,2),l=o[0],c=o[1],s={definition:function(){return Object(i.Q)("io.cozy.identities").where({cozyMetadata:{createdByApp:"pronote"}}).indexFields(["cozyMetadata.createdByApp"])},options:{as:"io.cozy.identities/pronote",fetchPolicy:g}},u=Object(i.useQuery)(s.definition,s.options),d=u.data,m=u.fetchStatus,f=Object(n.useState)([]),p=b()(f,2),y=p[0],h=p[1];return Object(n.useEffect)((function(){if("loaded"===m){var e=d;e.sort((function(e,t){return new Date(t.cozyMetadata.createdAt)-new Date(e.cozyMetadata.createdAt)})),h(e),e.length>0&&c(e[0])}}),[m]),r.a.createElement(v.Provider,{value:{currentAccount:l,setCurrentAccount:c,accountsList:y,setAccountsList:h,fetchStatus:m}},t)},E=Object(f.a)({disableGlobal:!0}),x=function(e){var t=e.client,a=e.lang,n=e.polyglot,l=e.children;return r.a.createElement(c.WebviewIntentProvider,null,r.a.createElement(p.b,{generateClassName:E},r.a.createElement(i.CozyProvider,{client:t},r.a.createElement(o.BarProvider,null,r.a.createElement(m.I18n,{lang:a,polyglot:n},r.a.createElement(d.default,null,r.a.createElement(u.BreakpointsProvider,null,r.a.createElement(j,null,r.a.createElement(s.a,null,l)))))))))},_=a("euuj"),O=a.n(_),w=a("iOQm"),D={timetable:{doctype:"io.cozy.calendar.events"},homeworks:{doctype:"io.cozy.calendar.todos"},grades:{doctype:"io.cozy.timeseries.grades"},presence:{doctype:"io.cozy.calendar.presence"}},S=a("8ZpT"),C=a.n(S),P=a("8XZk"),k=a("5z4W"),M=a.n(k),z=O()((function(){var e,t,n,r=document.querySelector("[role=application]"),o=Object(w.createRoot)(r),i=function(e){var t=JSON.parse(e.dataset.cozy),a=window.location.protocol,n="".concat(a,"//").concat(t.domain);return new l.a({uri:n,token:t.token,appMetadata:{slug:M.a.name,version:M.a.version},schema:D,store:!0})}(r),c=null===(e=JSON.parse(r.dataset.cozy))||void 0===e?void 0:e.locale,s=(n="en",/^\{\{\..*\}\}$/.test(t=c)?n:t),u=Object(P.b)(s,(function(e){return a("eUFy")("./".concat(e))}));return i.registerPlugin(C.a.plugin),{root:o,client:i,lang:s,polyglot:u}})),F=a("P0ff"),I=a("Iyno"),L=a("uRLs"),q=a.n(L),A=a("pvOl"),T=a("4XnK"),N=a("HYTT"),R=a("keV2"),B=a("WY6r"),G=a("Gyqq"),Y=a("lTBH"),W=a("d5dM"),J=a("9Ub/"),H=a("N8wp"),Q=a("CE71"),V=a("/s+K"),U=a("/5Aj"),$=a("vaJB"),X=a.n($),K=a("zsXZ"),Z=a.n(K),ee=function(){var e=Object(m.useI18n)().t,t=Object(i.useClient)(),a=Object(i.useAppLinkWithStoreFallback)("pronote",t,"/").url,n=Object(i.useAppLinkWithStoreFallback)("store",t,"#/discover?type=konnector&category=education").url;return r.a.createElement("div",{className:"u-db-s u-flex u-flex-column u-items-center u-justify-center u-p-2"},r.a.createElement(U.a,{icon:r.a.createElement("img",{src:Z.a,style:{height:208}}),iconSize:"large",title:e("Layout.onboardImportText")},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.8rem"}},r.a.createElement(Q.default,{app:{slug:"pronote"},href:a},(function(t){var a=t.href;return r.a.createElement(V.default,{variant:"secondary",label:e("Layout.importFromButton")+" Pronote",startIcon:r.a.createElement("img",{src:X.a,alt:"Pronote"}),style:{width:"100%"},href:a})})),r.a.createElement(Q.default,{app:{slug:"store"},href:n},(function(t){var a=t.href;return r.a.createElement(V.default,{variant:"ghost",label:e("Layout.exploreServices"),style:{width:"100%"},href:a})})))))},te=Object(G.e)((function(e){var t=e.children,a=e.className,n=e.active,o=e.activeClassName,i=e.onClick;return r.a.createElement("a",{onClick:i,className:q()(a,n?o:null)},t)})),ae=function(){var e=Object(m.useI18n)().t,t=Object(u.default)().isMobile,a=Object(i.useClient)(),n=Object(F.o)(),l=Object(F.m)().pathname.slice(1),c=h(),s=c.accountsList,d=c.fetchStatus,f=function(e){return{onClick:function(){n("/"+e.join("/"))},active:l.includes(e[0])}};return 0==s.length?r.a.createElement(B.b,null,r.a.createElement(o.BarComponent,null),r.a.createElement(B.c,null,r.a.createElement(B.a,null,"loaded"===d?r.a.createElement(ee,null):r.a.createElement(Y.a,null)))):r.a.createElement(B.b,null,r.a.createElement(W.a,{style:t?{overflow:"hidden"}:{}},r.a.createElement(G.d,null,r.a.createElement(G.b,null,r.a.createElement(te,f(["timetable"]),r.a.createElement(G.a,{icon:A.a}),r.a.createElement(G.c,null,e("Sidebar.timetable")))),r.a.createElement(G.b,null,r.a.createElement(te,f(["homeworks"]),r.a.createElement(G.a,{icon:T.a}),r.a.createElement(G.c,null,e("Sidebar.homeworks")))),r.a.createElement(G.b,null,r.a.createElement(te,f(["grades"]),r.a.createElement(G.a,{icon:N.a}),r.a.createElement(G.c,null,e("Sidebar.grades")))),r.a.createElement(G.b,null,r.a.createElement(te,f(["presence"]),r.a.createElement(G.a,{icon:R.a}),r.a.createElement(G.c,null,e("Sidebar.presence")))))),r.a.createElement(o.BarComponent,null),r.a.createElement(B.c,null,r.a.createElement(B.a,null,t&&r.a.createElement(o.BarCenter,null,r.a.createElement(J.default,{variant:"h5"},a.appMetadata.slug)),r.a.createElement(F.b,null))),r.a.createElement(H.a,{t:e}))},ne=a("J58c"),re=a.n(ne);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=[{label:"accompagnementperso",pretty:"Accompagnement personnalis√©",formats:{default:["accompagnement personnalise","accompagnemt perso"]},emoji:"ü§ù"},{label:"atprofessionnalis",pretty:"Atelier de professionnalisation",formats:{default:["atelier de professionnalisation","at professionnalis"]},emoji:"üîß"},{label:"artsplastiques",pretty:"Arts plastiques",formats:{default:["arts plastiques","artsplastiques"]},emoji:"üé®"},{label:"bloc1smdsi",pretty:"Bloc 1 : Support et mise a disposition des services informatiques",formats:{default:["bloc 1 support et mise a disposition des services informatiques","bloc 1 smdsi"]},emoji:"üíª"},{label:"bloc2sisr",pretty:"Bloc 2 : Solutions d‚Äôinfrastructure systemes et r√©seaux",formats:{default:["bloc 2 solutions d‚Äôinfrastructure systemes et reseaux","bloc 2 sisr"]},emoji:"üîå"},{label:"bloc2slam",pretty:"Bloc 2 : Solutions logicielles et applications m√©tiers",formats:{default:["bloc 2 solutions logicielles et applications metiers","bloc 2 slam"]},emoji:"üì±"},{label:"bloc3tp",pretty:"Bloc 3 : Travaux pratiques",formats:{default:["bloc 3 travaux pratiques","bloc 3 tp"]},emoji:"üõ†Ô∏è"},{label:"culecojurmanapp",pretty:"Culture √©conomique, juridique et manag√©riale appliqu√©e",formats:{default:["culture economique juridique et manageriale appliquee","cul eco jur man app"]},emoji:"üíº"},{label:"culturegeneetexpr",pretty:"Culture g√©nerale et expression",formats:{default:["culture generale et expression","culture gene et expr"]},emoji:"üìö"},{label:"cultecojurmanag",pretty:"Culture √©conomique, juridique et manag√©riale",formats:{default:["culture economique juridique et manageriale","cult eco jur manag"]},emoji:"üíº"},{label:"dnlsesanglais",pretty:"DNL : Sciences √©conomiques et sociales en anglais",formats:{default:["dnl ses anglais"]},emoji:"üá¨üáß"},{label:"educationcivique",pretty:"√âducation civique",formats:{default:["education civique","education civique"]},emoji:"üó≥Ô∏è"},{label:"enseignscientifique",pretty:"Enseignement scientifique",formats:{default:["enseignement scientifique","enseign scientifique"]},emoji:"üî¨"},{label:"edphysiquesport",pretty:"√âducation physique & sportive",formats:{default:["education physique et sportive","ed physique sport","education physique et sportive","eps"]},emoji:"üèÉ"},{label:"educationmusicale",pretty:"√âducation musicale",formats:{default:["education musicale","education musicale"]},emoji:"üéµ"},{label:"francais",pretty:"Fran√ßais",formats:{default:["fran√ßais","francais"]},emoji:"üìù"},{label:"histoiregeo",pretty:"Histoire-G√©ographie",formats:{default:["histoire geographie","histoire geo","histoire geograph","histoire-geographie","histoire-geographie"]},emoji:"üåç"},{label:"humanlitterphilo",pretty:"Humanites, Litt√©rature & Philosophie",formats:{default:["humanites litterature philosophie","human litter philo"]},emoji:"üìñ"},{label:"llcanglmondcont",pretty:"LLCER Anglais Monde Contemporain",formats:{default:["llcer anglais monde contemporain","llc angl mond cont"]},emoji:"üá¨üáß"},{label:"mathspourinformatq",pretty:"Math√©matiques pour l‚ÄôInformatique",formats:{default:["mathematiques pour l‚Äôinformatique","maths pour informatq"]},emoji:"üßÆ"},{label:"mathematiques",pretty:"Math√©matiques",formats:{default:["mathematiques","mathematiques","mathematiques 1ere","math 1ere"]},emoji:"üìê"},{label:"numeriquescinform",pretty:"Num√©rique & Sciences Informatiques",formats:{default:["numerique et sciences informatiques","numerique sc inform"]},emoji:"üíª"},{label:"physiquechimie",pretty:"Physique-Chimie",formats:{default:["physique chimie","phys chim"]},emoji:"‚öõÔ∏è"},{label:"sceconosociales",pretty:"Sciences √âconomiques & Sociales",formats:{default:["sciences economiques et sociales","sc econo sociales","sciences economiques et sociales"]},emoji:"üí∞"},{label:"sciencesvieterre",pretty:"Sciences de la Vie & de la Terre",formats:{default:["sciences de la vie et de la terre","sciences de la vie et de la terre","sciences vie terre"]},emoji:"üåø"},{label:"scnumeriqtechnol",pretty:"Sciences Num√©riques & Technologie",formats:{default:["sciences numeriques et technologie","sc numeriq technol"]},emoji:"üíª"},{label:"viedeclasse",pretty:"Vie de classe",formats:{default:["vie de classe","vie de classe"]},emoji:"üë•"}],ce=function(e){var t,a,n={expressionecrite:"expression √©crite",expressionorale:"expression orale",comprehensionorale:"compr√©hension orale",comprehensionecrite:"compr√©hension √©crite",ecrit:"√©crit",oral:"oral"},r=e.toLowerCase().split(new RegExp(Object.keys(n).join("|")))[0].replace("ensscientifique",""),o=le.find((function(e){return e.label===r})),i=(null===(t=Object.entries(n).find((function(t){var a=b()(t,1)[0];return e.includes(a)})))||void 0===t?void 0:t[1])||"";return o?ie(ie({},o),{},{speciality:i}):{label:e,pretty:(a=r,a.length<4?a.toUpperCase():a.charAt(0).toUpperCase()+a.slice(1)),formats:{default:[e]},speciality:i}},se=a("YJvl"),ue=a("tRUj"),de=a("xr2j"),me=a("AHiN"),fe=a("iSyh"),pe=a("fzn7"),ye=a("mfku"),be=a("dJzJ"),ge=a("OEPu"),ve=a("4jS1"),he=a("i5f2"),je=a("dUf/"),Ee=a("MRub"),xe=function(){var e,t=Object(m.useI18n)().t,a=Object(F.q)(),n=a.subjectId,o=a.gradeId,l=Object(F.o)(),c={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").getById(e)},options:{as:"io.cozy.timeseries.grades/"+(e=n),fetchPolicy:g,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=s&&s.series.find((function(e){return e.id===o})),d=u?[{primary:t("Grades.values.student.title"),secondary:t("Grades.values.student.description"),value:"".concat(parseFloat(u.value.student).toFixed(2)),icon:N.a,important:!0},{primary:t("Grades.values.class.title"),secondary:t("Grades.values.class.description"),value:"".concat(parseFloat(u.value.classAverage).toFixed(2)),icon:be.a},u.value.classMax>=0&&{primary:t("Grades.values.max.title"),secondary:t("Grades.values.max.description"),value:"".concat(parseFloat(u.value.classMax).toFixed(2)),icon:fe.a},u.value.classMin>=0&&{primary:t("Grades.values.min.title"),secondary:t("Grades.values.min.description"),value:"".concat(parseFloat(u.value.classMin).toFixed(2)),icon:pe.a}]:[];return r.a.createElement(ue.a,{open:!0,onClose:function(){return l("..",{replace:!0})},disableGutters:!0,title:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2px"}},r.a.createElement(se.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement(J.default,{variant:"h5",style:{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",border:"1px solid var(--secondaryColorLightest)"}},s&&(ce(s.subject).emoji||"üìö")),r.a.createElement(J.default,{variant:"subtitle1",color:"textSecondary"},s&&(ce(s.subject).pretty||"Aucune mati√®re"))),r.a.createElement(J.default,{variant:"subtitle1",color:"textPrimary"},u&&(u.label||"Note sans titre"))),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(J.default,{variant:"h2",color:"textPrimary"},u&&parseFloat(u.value.student).toFixed(2)),r.a.createElement(J.default,{variant:"body1",color:"textSecondary",style:{marginBottom:"2px"}},"/",u&&u.value.outOf))),content:r.a.createElement("div",null,r.a.createElement(ge.default,{subheader:r.a.createElement(Ee.a,null,t("Grades.dialogContext"))},r.a.createElement(ve.default,null,r.a.createElement(he.default,null,r.a.createElement(me.default,{icon:A.a})),r.a.createElement(je.default,{primary:t("Grades.date"),secondary:u&&new Date(u.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})),r.a.createElement(de.a,{component:"li",variant:"inset"}),r.a.createElement(ve.default,null,r.a.createElement(he.default,null,r.a.createElement(me.default,{icon:ye.a})),r.a.createElement(je.default,{primary:t("Grades.values.coefficient.title"),secondary:t("Grades.values.coefficient.description")}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(J.default,{variant:"body2",color:"textSecondary"},"x"),r.a.createElement(J.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},u&&parseFloat(u.value.coef).toFixed(2))))),r.a.createElement(ge.default,{subheader:r.a.createElement(Ee.a,null,t("Grades.valuesList"))},d.map((function(e,t){return e&&r.a.createElement("div",{key:t},r.a.createElement(ve.default,null,r.a.createElement(he.default,null,r.a.createElement(me.default,{icon:e.icon})),r.a.createElement(je.default,{primary:r.a.createElement(J.default,{variant:"body1",style:{fontWeight:e.important?"bold":"normal"}},e.primary),secondary:e.secondary}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(J.default,{variant:"body1",color:"textPrimary",style:{fontWeight:e.important?"bold":"normal"}},parseFloat(e.value).toFixed(2)),r.a.createElement(J.default,{variant:"body2",color:"textSecondary"},"/",parseFloat(u.value.outOf).toFixed(0)))),t!==d.filter(Boolean).length-1&&r.a.createElement(de.a,{component:"li",variant:"inset"}))}))))})},_e=function(e){var t=e.subject,a=e.date;return r.a.createElement("div",{style:{gap:16},className:"u-flex u-flex-items-center"},r.a.createElement(J.default,{variant:"h3"},t&&(ce(t).emoji||"üìö")),r.a.createElement("div",null,r.a.createElement(J.default,{variant:"h6"},t&&ce(t).pretty),a&&r.a.createElement(J.default,{variant:"subtitle2",color:"textSecondary"},new Date(a).toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))))},Oe=function(){var e,t,a,n=Object(F.q)().homeworkId,o=Object(F.o)(),l={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").getById(a)},options:{as:"io.cozy.calendar.todos/"+(a=n),fetchPolicy:g,singleDocData:!0}},c=Object(i.useQuery)(l.definition,l.options).data,s=(null==c?void 0:c.dueDate)&&(null==c||null===(e=c.dueDate)||void 0===e?void 0:e.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"));return r.a.createElement(ue.a,{open:!0,onClose:function(){return o("..",{replace:!0})},title:r.a.createElement(_e,{subject:null==c?void 0:c.subject,date:s}),content:null!==(t=null==c?void 0:c.summary)&&void 0!==t?t:""})},we=a("oRW6"),De=a("PfmE"),Se=a("KsnS"),Ce=a("LFaT"),Pe=a("XAJ7"),ke=function(){var e,t,a,n,o=Object(F.q)().courseId,l=Object(F.o)(),c={definition:function(){return Object(i.Q)("io.cozy.calendar.events").getById(n)},options:{as:"io.cozy.calendar.events/"+(n=o),fetchPolicy:g,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=Object(m.useI18n)().t,d=s?[{title:u("Timetable.start"),subtitle:new Date(s.start).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:we.a},{title:u("Timetable.end"),subtitle:new Date(s.end).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:De.a}]:[],f=s?[{title:u("Timetable.location"),subtitle:null!==(e=s.location)&&void 0!==e?e:"Non d√©fini",icon:Pe.default},{title:u("Timetable.teacher"),subtitle:null!==(t=s.organizer)&&void 0!==t?t:"Non d√©fini",icon:Ce.a},{title:u("Timetable.status"),subtitle:"CONFIRMED"==(null!==(a=s.status)&&void 0!==a?a:"")?"Maintenu":"Non maintenu",icon:Se.a}]:[];return r.a.createElement(ue.a,{open:!0,disableGutters:!0,onClose:function(){return l("..",{replace:!0})},title:r.a.createElement(_e,{subject:null==s?void 0:s.subject,date:null==s?void 0:s.start}),content:r.a.createElement("div",null,r.a.createElement(ge.default,null,r.a.createElement(Ee.a,null,u("Timetable.duration")),d.map((function(e,t){return r.a.createElement(ve.default,{key:t},r.a.createElement(he.default,null,e.icon&&r.a.createElement(me.default,{icon:e.icon})),r.a.createElement(je.default,{primary:e.title,secondary:e.subtitle}))}))),r.a.createElement(ge.default,null,r.a.createElement(Ee.a,null,u("Timetable.informations")),f.map((function(e,t){return r.a.createElement(ve.default,{key:t},r.a.createElement(he.default,null,e.icon&&r.a.createElement(me.default,{icon:e.icon})),r.a.createElement(je.default,{primary:e.title,secondary:e.subtitle}))}))))})},Me=a("QGb3"),ze=a.n(Me),Fe=a("F7WE"),Ie=function(e){var t=e.grade,a=e.j,n=e.subject,o={cozyGradeChip:{display:"flex",alignItems:"flex-end"}},i=Object(F.o)();return r.a.createElement("div",{key:t.id},r.a.createElement(ve.default,{button:!0,onClick:function(){i("/grades/grade/".concat(n._id,"/").concat(t.id))},style:{borderRadius:8}},r.a.createElement(he.default,null,r.a.createElement(J.default,{variant:"h3",color:"textPrimary"},ce(n.subject).emoji||"üìö")),r.a.createElement(je.default,{primary:t.label||"Note sans titre",secondary:new Date(t.date).toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})}),r.a.createElement("div",{className:"cozy-grade-chip",style:o.cozyGradeChip},r.a.createElement(J.default,{variant:"body2",color:"textPrimary"},parseFloat(t.value.student).toFixed(2)),r.a.createElement(J.default,{variant:"body2",color:"textSecondary"},"/",parseFloat(t.value.outOf).toFixed(0)))),a!==n.series.length-1&&r.a.createElement(de.a,{component:"li",variant:"inset"}))},Le=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7B731","#6A5ACD","#FF69B4","#20B2AA","#FF7F50","#9370DB","#3CB371","#FF4500","#1E90FF","#FFD700","#8A2BE2","#32CD32","#FF1493","#00CED1","#FF8C00","#7B68EE","#00FA9A","#DC143C","#1ABC9C","#F39C12","#8E44AD","#2ECC71","#E74C3C","#3498DB","#F1C40F","#9B59B6","#2980B9","#E67E22","#27AE60","#D35400"];function qe(e,t){if(0===e.length)return null;var a=function(e){for(var t=0,a=0;a<e.length;a++)t=Math.imul(31,t)+e.charCodeAt(a)|0;return function(){return(((t=Math.imul(31,t)+1|0)^t>>>15)>>>0)/4294967296}}(t);return e[Math.floor(a()*e.length)]}var Ae=function(e){return qe(Le,e)},Te=function(e){var t=e.subject,a=Object(u.default)().isMobile;return r.a.createElement(Ee.a,{style:{borderRadius:a?0:8}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"14px",flex:1,width:"100%",overflow:"hidden"}},r.a.createElement("div",{style:{width:"8px",height:"8px",backgroundColor:Ae(t.subject),borderRadius:"50px"}}),r.a.createElement(J.default,{variant:"subtitle1",color:"textSecondary",noWrap:!0},ce(t.subject).pretty||""),r.a.createElement(J.default,{variant:"caption",color:"textSecondary",noWrap:!0},ce(t.subject).speciality||"")),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(J.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},parseFloat(t.aggregation.avgGrades).toFixed(2)),r.a.createElement(J.default,{variant:"body2",color:"textSecondary",style:{marginBottom:.5}},"/20"))))},Ne=a("gQXR"),Re=a("J14j"),Be=a("gtDA"),Ge=a("1Crc"),Ye=function(e){var t=e.periodDropdownRef,a=e.selectedPeriod,n=e.setSelectedPeriod,o=e.setPeriodMenuOpen,i=e.periodMenuOpen,l=e.periods,c=e.t,s=e.textVariant,d=Object(u.default)().isMobile;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return o(!i)},textVariant:s,style:{height:"100%",paddingLeft:16,width:d?"100%":"auto"}},a||c("Grades.selectPeriod")),r.a.createElement(Be.a,{open:i,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return o(!1)}},l.map((function(e,t){return r.a.createElement(Ge.a,{key:t,onClick:function(){n(e),o(!1)},selected:e===a},r.a.createElement(je.default,{primary:e}))})),0===l.length&&r.a.createElement(Ge.a,{disabled:!0},r.a.createElement(je.default,{primary:c("Grades.emptyList.periods")}))))},We=function(e){var t=e.yearDropdownRef,a=e.selectedYear,n=e.selectedPeriod,o=e.setSelectedYear,i=e.setYearMenuOpen,l=e.yearMenuOpen,c=e.allPeriods,s=e.t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return i(!l)},style:{height:"100%",paddingRight:16}},a||s("Grades.selectYear")),r.a.createElement(Be.a,{open:l,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return i(!1)}},ze()(new Set(c.filter((function(e){return e.title===n})).map((function(e){return e.year})))).map((function(e,t){return r.a.createElement(Ge.a,{key:t,onClick:function(){o(e),i(!1)},selected:e===a},r.a.createElement(je.default,{primary:e}))}))))},Je=function(e){var t=e.periodDropdownRef,a=e.yearDropdownRef,n=e.selectedPeriod,o=e.setSelectedPeriod,i=e.selectedYear,l=e.setSelectedYear,c=e.setPeriodMenuOpen,s=e.periodMenuOpen,d=e.setYearMenuOpen,m=e.yearMenuOpen,f=e.allPeriods,p=e.periods,y=e.years,b=e.t,g=Object(u.default)().isMobile;return r.a.createElement(Ne.a,{elevation:4,style:{height:40,padding:"0 8px",overflow:"hidden",borderRadius:40,display:"flex",gap:"16px",alignItems:"center",justifyContent:"center",width:g?"100%":"auto"}},r.a.createElement(Ye,{periodDropdownRef:t,selectedPeriod:n,setSelectedPeriod:o,setPeriodMenuOpen:c,periodMenuOpen:s,periods:p,t:b}),r.a.createElement(We,{yearDropdownRef:a,selectedYear:i,setSelectedYear:l,setYearMenuOpen:d,yearMenuOpen:m,allPeriods:f,selectedPeriod:n,years:y,t:b}))},He=a("INxB"),Qe=a("bVLx"),Ve=function(){var e,t,a,o,i=h(),l=i.currentAccount,c=i.setCurrentAccount,s=i.accountsList,u=Object(n.useState)(!1),d=b()(u,2),m=d[0],f=d[1],p=Object(n.useRef)(null);return!s||s.length<2?null:r.a.createElement("div",null,r.a.createElement(Re.a,{ref:p,onClick:function(){return f(!0)}},r.a.createElement(J.default,{noWrap:!0,variant:"h4",color:"textPrimary"},null==l||null===(e=l.contact)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.givenName," ",null==l||null===(a=l.contact)||void 0===a||null===(o=a.name)||void 0===o?void 0:o.familyName)),r.a.createElement(Qe.a,{open:m,anchorEl:p.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return f(!1)}},s.map((function(e){var t,a,n,o,i,s,u;return r.a.createElement(He.a,{key:e._id,onClick:function(){c(e),f(!1)},selected:(null==l?void 0:l._id)===e._id},r.a.createElement("div",{style:{minWidth:42,width:42,height:20,display:"flex",alignItems:"center",justifyContent:"center",border:"0px solid var(--secondaryColorLightest)",backgroundColor:"var(--secondaryColorLightest)",borderRadius:"5px"}},r.a.createElement("p",{style:{width:"100%",textAlign:"center",fontSize:"12.5px",color:"var(--secondaryTextColor)",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},(u=null==e||null===(t=e.contact)||void 0===t?void 0:t.jobTitle).includes("de")?u.split("de")[1].trim():u)),r.a.createElement(je.default,null,r.a.createElement(J.default,{variant:"body1",color:"textPrimary",style:{fontWeight:600}},null==e||null===(a=e.contact)||void 0===a||null===(n=a.name)||void 0===n?void 0:n.givenName," ",null==e||null===(o=e.contact)||void 0===o||null===(i=o.name)||void 0===i?void 0:i.familyName),r.a.createElement(J.default,{variant:"body2",color:"textSecondary"},null==e||null===(s=e.contact)||void 0===s?void 0:s.company)))}))))},Ue=function(e){var t=e.children,a=Object(u.default)().isMobile;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(o.BarCenter,null,r.a.createElement(Ve,null)),!a||t?r.a.createElement(Ne.a,{square:!0,elevation:0,style:{height:68,minHeight:68},className:"u-p-1 u-w-100 u-flex u-flex-row u-flex-items-center u-flex-justify-between"},!a&&r.a.createElement(Ve,null),t):null)},$e=function(){var e,t,a,o=Object(m.useI18n)().t,l=Object(u.default)().isMobile,c=h().currentAccount,s={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").where({title:a||{$gt:null},cozyMetadata:{sourceAccountIdentifier:t}}).indexFields(["cozyMetadata.sourceAccountIdentifier","title"])},options:{as:"io.cozy.timeseries.grades/account/"+(t=null==c||null===(e=c.cozyMetadata)||void 0===e?void 0:e.sourceAccountIdentifier)+"/period/"+a,fetchPolicy:g}},d=Object(i.useQuery)(s.definition,s.options),f=d.data,p="loading"==d.fetchStatus,y=ze()(new Set((null!=f?f:[]).map((function(e){return{title:e.title,year:new Date(e.startDate).getFullYear()}}))));y.sort((function(e,t){return"Hors p√©riode"===e.title?1:"Hors p√©riode"===t.title?-1:0}));var v=ze()(new Set((null!=y?y:[]).map((function(e){return e.title})))),j=ze()(new Set((null!=y?y:[]).map((function(e){return e.year})))),E=Object(n.useState)(""),x=b()(E,2),_=x[0],O=x[1],w=Object(n.useState)(""),D=b()(w,2),S=D[0],C=D[1];Object(n.useEffect)((function(){_&&S&&function(e,t){if(!y.some((function(a){return a.title===e&&a.year===t}))){var a,n=null===(a=y.find((function(t){return t.title===e})))||void 0===a?void 0:a.year;n&&C(n)}}(_,S)}),[_,S]),""===_&&v.length>0&&O(v[0]),""===S&&j.length>0&&C(j[0]);var P=Object(n.useState)(!1),k=b()(P,2),M=k[0],z=k[1],I=Object(n.useState)(!1),L=b()(I,2),q=L[0],A=L[1],T=r.a.useRef(null),N=r.a.useRef(null);Object(n.useEffect)((function(){v.includes(_)||O(v[0])}),[f]);var R={periodDropdownRef:T,yearDropdownRef:N,selectedPeriod:_,setSelectedPeriod:O,selectedYear:S,setSelectedYear:C,setPeriodMenuOpen:z,periodMenuOpen:M,setYearMenuOpen:A,yearMenuOpen:q,allPeriods:y,periods:v,years:j,t:o};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.b,null),r.a.createElement(Ue,{title:o("Grades.title"),loading:p},r.a.createElement(Je,R)),0===(null!=f?f:[]).length&&!p&&r.a.createElement(U.a,{icon:Fe.a,title:o("Grades.emptyList.title"),text:o("Grades.emptyList.description"),centered:!0}),(null!=f?f:[]).filter((function(e){return e.title===_})).filter((function(e){return new Date(e.startDate).getFullYear()===parseInt(S)})).map((function(e,t){return r.a.createElement(ge.default,{key:t,subheader:l?r.a.createElement(Te,{subject:e}):r.a.createElement("div",null,r.a.createElement(Te,{subject:e})),style:{marginLeft:l?"0px":"16px",marginRight:l?"0px":"16px"}},e.series.map((function(t,a){return r.a.createElement(Ie,{key:a,grade:t,j:a,subject:e})})),0==e.series.length&&r.a.createElement(U.a,{icon:Fe.a,title:o("Grades.emptyList.title"),text:o("Grades.emptyList.description"),centered:!0}))})))},Xe=a("13md"),Ke=a("2Kpg"),Ze=function(e){var t=e.hw,a=e.j,n=e.day,o=Object(F.o)();return r.a.createElement("div",{key:a},r.a.createElement(ve.default,{button:!0,onClick:function(){o("homework/".concat(t._id))},style:{borderRadius:8}},r.a.createElement(he.default,null,r.a.createElement(Ke.default,{checked:t.completed,disabled:!0})),r.a.createElement(je.default,{primary:r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:Ae(t.subject)}}),r.a.createElement(J.default,{variant:"subtitle2",color:"textSecondary"},ce(t.subject).pretty)),secondary:r.a.createElement(J.default,{variant:"body1",color:"textPrimary",noWrap:!0},t.summary)})),a<n.hws.length-1&&r.a.createElement(de.a,{component:"li",variant:"inset"}))};function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(Object(a),!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var at=function(){var e,t,a=Object(m.useI18n)().t,n=Object(u.default)().isMobile,o=h().currentAccount,l={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").where({dueDate:{$gt:null},cozyMetadata:{sourceAccountIdentifier:t}}).indexFields(["cozyMetadata.sourceAccountIdentifier","dueDate"]).sortBy([{"cozyMetadata.sourceAccountIdentifier":"desc"},{dueDate:"desc"}])},options:{as:"io.cozy.calendar.todos/account/"+(t=null==o||null===(e=o.cozyMetadata)||void 0===e?void 0:e.sourceAccountIdentifier),fetchPolicy:g}},c=Object(i.useQuery)(l.definition,l.options),s=c.data,d=c.fetchStatus,f=c.hasMore,p=c.fetchMore,y="loading"==d,b=(null!=s?s:[]).reduce((function(e,t){var a=t.dueDate.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"),n=new Date(a),r=n.toISOString();return e.find((function(e){return e.date===r}))?e.map((function(e){return e.date===r?tt(tt({},e),{},{hws:[].concat(ze()(e.hws),[t])}):e})):[].concat(ze()(e),[{date:n.toISOString(),hws:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.b,null),r.a.createElement("div",null,r.a.createElement(Ue,{title:a("Homeworks.title"),loading:y}),0===b.length&&!y&&r.a.createElement(U.a,{icon:Fe.a,title:a("Homeworks.emptyList.title"),description:a("Homeworks.emptyList.description")}),r.a.createElement("div",{style:{height:"100%",overflow:"auto",overflowY:"scroll",padding:n?"0":"0 16px",marginTop:-8}},b.map((function(e,t){return r.a.createElement(ge.default,{key:t,className:e.current?"current":""},r.a.createElement(Ee.a,{style:{borderRadius:n?0:8}},r.a.createElement(J.default,{variant:"subtitle2",color:"textSecondary"},new Date(e.date).toLocaleDateString("default",{weekday:"long",month:"long",day:"numeric",year:"numeric"}))),e.hws.map((function(t,a){return r.a.createElement(Ze,{key:a,hw:t,j:a,day:e})})))})),f&&r.a.createElement(Xe.a,{label:a("Homeworks.loadMore"),fetchMore:p}))))},nt=a("Yb2N"),rt=a("+XJ+"),ot=function(e){var t=e.event,a=e.j,n=e.group,o=Object(m.useI18n)().t;return r.a.createElement("div",{key:t._id},r.a.createElement(ve.default,{key:t._id,style:{borderRadius:8}},r.a.createElement(he.default,null,r.a.createElement(me.default,{icon:"DELAY"==t.xType?we.a:"ABSENCE"==t.xType?R.a:rt.a})),r.a.createElement(je.default,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.default,{variant:"h6",noWrap:!0},"DELAY"==t.xType?o("Presence.delay"):"ABSENCE"==t.xType?o("Presence.absence"):o("Presence.presence")),r.a.createElement(J.default,{variant:"body1",noWrap:!0},t.label)),secondary:r.a.createElement(J.default,{variant:"body2",color:"textSecondary",noWrap:!0},new Date(t.start).toLocaleString("default",{weekday:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}))}),r.a.createElement(nt.a,{label:t.xJustified?o("Presence.justified"):t.label?o("Presence.justifiedUnreceivable"):o("Presence.notJustified"),color:t.xJustified?"success":t.label?"default":"error",disabled:!t.xJustified&&t.label})),a!==n.events.length-1&&r.a.createElement(de.a,{component:"li",variant:"inset"}))};function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(Object(a),!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ct=function(){var e,t,a=Object(m.useI18n)().t,n=Object(u.default)().isMobile,o=h().currentAccount,l={definition:function(){return Object(i.Q)("io.cozy.calendar.presence").where({start:{$gt:null},cozyMetadata:{sourceAccountIdentifier:t}}).sortBy([{start:"desc"}]).indexFields(["cozyMetadata.sourceAccountIdentifier","start"])},options:{as:"io.cozy.calendar.presence/account/"+(t=null==o||null===(e=o.cozyMetadata)||void 0===e?void 0:e.sourceAccountIdentifier),fetchPolicy:g}},c=Object(i.useQuery)(l.definition,l.options),s=c.data,d="loading"==c.fetchStatus,f=(null!=s?s:[]).reduce((function(e,t){var a=new Date(t.start).getMonth();return e.find((function(e){return e.month===a}))?e.map((function(e){return e.month===a?lt(lt({},e),{},{events:[].concat(ze()(e.events),[t])}):e})):[].concat(ze()(e),[{month:a,prettyMonth:new Date(t.start).toLocaleString("default",{month:"long",year:"numeric"}),events:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ue,{title:a("Presence.title"),loading:d}),0===f.length&&!d&&r.a.createElement(U.a,{icon:r.a.createElement(Fe.a,null),title:a("Presence.emptyList.title"),description:a("Presence.emptyList.description")}),f.map((function(e){return r.a.createElement(ge.default,{key:e.month,style:{marginTop:"-8px",marginLeft:n?"0px":"16px",marginRight:n?"0px":"16px"}},r.a.createElement(Ee.a,{style:{borderRadius:n?0:8}},r.a.createElement(J.default,{variant:"subtitle2",color:"textSecondary"},e.prettyMonth)),e.events.map((function(t,a){return r.a.createElement(ot,{key:t._id,event:t,j:a,group:e})})))}))))},st=a("HCvV"),ut=a("K4g+"),dt=a("Mb5X"),mt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ft=function(e){var t=e.date,a=e.onDateChange,o=Object(n.useState)(new Date(t)),i=b()(o,2),l=i[0],c=i[1],s=Object(m.useI18n)().t,d=Object(u.default)().isMobile;Object(n.useEffect)((function(){a&&a(l)}),[l]);var f=r.a.useRef(null),p=r.a.useRef(null),y=r.a.useRef(null),g=Object(n.useState)(!1),v=b()(g,2),h=v[0],j=v[1],E=Object(n.useState)(!1),x=b()(E,2),_=x[0],O=x[1],w=Object(n.useState)(!1),D=b()(w,2),S=D[0],C=D[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(l.getFullYear(),e,0);return a.setDate(a.getDate()+t),a.getDate()},k=function(e,t){for(var a=new Date(e,t,0).getDate(),n=[],r=1;r<=a;r++){1===new Date(e,t,r).getDay()&&n.push(r)}return n};Object(n.useEffect)((function(){var e=k(l.getFullYear(),l.getMonth()),t=l.getDate();e.includes(l.getDate())||(t=e.reduce((function(e,t){return Math.abs(t-l.getDate())<Math.abs(e-l.getDate())?t:e})))!=l.getDate()&&c(new Date(l.getFullYear(),l.getMonth(),t))}),[l]);return r.a.createElement("div",{style:{display:"flex",gap:6,width:d?"100%":"auto"}},r.a.createElement(Ne.a,{elevation:4,style:{height:40,padding:"0 8px",overflow:"hidden",borderRadius:40,display:"flex",gap:"16px",alignItems:"center",justifyContent:"center",width:d?"100%":"auto"}},r.a.createElement(Re.a,{ref:f,onClick:function(){return j(!0)},textVariant:"body1",style:{height:"100%",paddingLeft:16}},l.toLocaleDateString("default",{day:"2-digit"}),"-",(l.getDate()+6)%P(l.getMonth()+1)),r.a.createElement(Re.a,{ref:p,onClick:function(){return O(!0)},textVariant:"body1",style:{height:"100%",width:d?"100%":"auto"}},mt(l.toLocaleDateString("default",{month:"long"}))),r.a.createElement(Re.a,{ref:y,onClick:function(){return C(!0)},textVariant:"body1",style:{height:"100%",paddingRight:16}},l.toLocaleDateString("default",{year:"numeric"}))),r.a.createElement(Ne.a,{elevation:4,style:{height:40,width:40,minWidth:40,overflow:"hidden",borderRadius:40,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(st.default,{size:"large",onClick:function(){return(e=new Date(l)).setDate(l.getDate()-7),void c(e);var e}},r.a.createElement(me.default,{icon:ut.a}))),r.a.createElement(Ne.a,{elevation:4,style:{height:40,width:40,minWidth:40,overflow:"hidden",borderRadius:40,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(st.default,{size:"large",onClick:function(){return(e=new Date(l)).setDate(l.getDate()+7),void c(e);var e}},r.a.createElement(me.default,{icon:dt.default}))),r.a.createElement(Be.a,{open:h,anchorEl:f.current,keepMounted:!0,onClose:function(){return j(!1)}},k(l.getFullYear(),l.getMonth()).map((function(e){return r.a.createElement(Ge.a,{key:e,selected:e===l.getDate(),onClick:function(){!function(e){var t=e;c(new Date(l.getFullYear(),l.getMonth(),t))}(e),j(!1)}},e," ",s("Timetable.to")," ",(e+6)%P(l.getMonth()+1))}))),r.a.createElement(Be.a,{open:_,anchorEl:p.current,keepMounted:!0,onClose:function(){return O(!1)}},ze()(Array(12).keys()).map((function(e){return r.a.createElement(Ge.a,{key:e,selected:e===l.getMonth(),onClick:function(){!function(e){var t=e;c(new Date(l.getFullYear(),t,l.getDate()))}(e),O(!1)}},mt(new Date(0,e).toLocaleDateString("default",{month:"long"})))}))),r.a.createElement(Be.a,{open:S,anchorEl:y.current,keepMounted:!0,onClose:function(){return C(!1)}},ze()(Array(30).keys()).map((function(e){return r.a.createElement(Ge.a,{key:e,selected:l.getFullYear()+e-10===l.getFullYear(),onClick:function(){!function(e){var t=l.getFullYear()+e-10;c(new Date(t,l.getMonth(),l.getDate()))}(e),C(!1)}},l.getFullYear()+e-10)}))))},pt=function(e,t){var a=t-e,n=Math.floor(a/36e5),r=Math.floor(a%36e5/6e4);return n?"".concat(n,"h ").concat(r,"min"):"".concat(r,"min")};function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gt=function(e){var t=e.color,a=e.style;return r.a.createElement("div",{style:bt(bt({},a),{},{minWidth:"4px",backgroundColor:t||"#888"}),className:"u-flex u-flex-items-center u-flex-justify-center u-h-3 u-bdrs-4"})},vt=function(e){var t=e.course,a=Object(F.o)(),n=Object(m.useI18n)().t;return t&&t.subject?r.a.createElement(ve.default,{key:t._id,button:!0,onClick:function(){a("/timetable/course/".concat(t._id))},disabled:"CANCELLED"==t.status,style:{height:92,borderRadius:8}},r.a.createElement(gt,{color:Ae(t.subject)}),r.a.createElement(je.default,{primary:r.a.createElement(r.a.Fragment,null,"CANCELLED"!==t.status?r.a.createElement("div",{style:{display:"flex",gap:"4px",alignItems:"center"}},r.a.createElement(J.default,{variant:"subtitle2",color:"textPrimary",noWrap:!0},new Date(t.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," "),r.a.createElement(J.default,{variant:"body2",color:"textSecondary",noWrap:!0,style:{fontWeight:400,fontSize:12}},"| ",pt(new Date(t.start),new Date(t.end)))):r.a.createElement(J.default,{variant:"subtitle2",color:"error",noWrap:!0},n("Timetable.cancelled")),r.a.createElement(J.default,{variant:"h6",color:"textPrimary",noWrap:!0},ce(t.subject).pretty)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(J.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.location),r.a.createElement(J.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.organizer))})):null},ht=function(e){var t=e.end,a=e.start,n=Object(m.useI18n)().t,o=pt(t,a),i=t.getHours()>11&&a.getHours()<14;return r.a.createElement(ve.default,{button:!0,style:{backgroundColor:"var(--secondaryBackground)",height:92,borderRadius:8,marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}},r.a.createElement(gt,{color:"var(--secondaryColor)",style:{opacity:.3,marginLeft:-4}}),r.a.createElement(je.default,{primary:n(i?"Timetable.pauseMidday":"Timetable.pauseNoCourses"),secondary:"".concat(n("Timetable.during")," ").concat(o)}))},jt=function(e){var t,a,n,o,i,l=e.day,c=e.timetable,s=e.index,d=Object(m.useI18n)().t,f=Object(u.default)().isMobile,p=null!==(t=null===(a=null!==(n=c.find((function(e){return e.date===l.toISOString()})))&&void 0!==n?n:{courses:[]})||void 0===a?void 0:a.courses)&&void 0!==t?t:[];return r.a.createElement("div",{key:l.toISOString(),style:{overflowX:"hidden"},className:"u-flex u-flex-column u-w-100 u-h-100"},r.a.createElement(ge.default,null,r.a.createElement(Ee.a,{style:f?{borderRadius:0}:{borderTopLeftRadius:0===s?8:0,borderBottomLeftRadius:0===s?8:0,borderTopRightRadius:4===s?8:0,borderBottomRightRadius:4===s?8:0}},l.toLocaleDateString("default",{weekday:"long",day:"2-digit"})),p.map((function(e,t){return r.a.createElement("div",{key:e._id,style:{margin:f?"-4px 4px":"0"}},r.a.createElement(vt,{course:e,key:e._id}),p[t+1]&&new Date(e.end).getTime()+36e5<new Date(p[t+1].start).getTime()&&r.a.createElement(ht,{end:new Date(e.end),start:new Date(p[t+1].start)}))})),0===(null===(o=null!==(i=c.find((function(e){return e.date===l.toISOString()})))&&void 0!==i?i:{courses:[]})||void 0===o?void 0:o.courses.length)&&r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100"},r.a.createElement(J.default,{variant:"body2",color:"textSecondary"},d("Timetable.noCourses")))))};function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _t=function(){var e,t,a,o,l=Object(m.useI18n)().t,c=Object(u.default)().isMobile,s=h().currentAccount,d=Object(n.useState)(new Date),f=b()(d,2),p=f[0],y=f[1],v=Object(n.useMemo)((function(){var e=new Date(p);return e.setDate(e.getDate()+6),e}),[p]),j={definition:function(){return Object(i.Q)("io.cozy.calendar.events").where({cozyMetadata:{sourceAccountIdentifier:t},start:o?{$lte:o,$gte:a}:{$gte:a}}).indexFields(["cozyMetadata.sourceAccountIdentifier","start"])},options:{as:"io.cozy.calendar.events/account/"+(t=null==s||null===(e=s.cozyMetadata)||void 0===e?void 0:e.sourceAccountIdentifier)+"/start/"+(a=p)+"/end/"+(o=v),fetchPolicy:g}},E=Object(i.useQuery)(j.definition,j.options),x=E.data,_=E.fetchStatus,O=Object(n.useMemo)((function(){return ze()(Array(6).keys()).map((function(e){var t=new Date(p);return t.setDate(t.getDate()+e),t.setHours(0,0,0,0),t}))}),[p]),w=Object(n.useMemo)((function(){return(null!=x?x:[]).reduce((function(e,t){var a=new Date(t.start);a.setHours(0,0,0,0);var n=a.toISOString();return e.find((function(e){return e.date===n}))?e.map((function(e){return e.date===n?xt(xt({},e),{},{courses:[].concat(ze()(e.courses),[t])}):e})):[].concat(ze()(e),[{date:a.toISOString(),courses:[t]}])}),[])}),[x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.b,null),r.a.createElement("div",null,r.a.createElement(Ue,{title:l("Timetable.title")},r.a.createElement(ft,{date:p,onDateChange:function(e){return y(e)},textVariant:"subtitle1"})),0!==w.length?r.a.createElement("div",{style:{flexDirection:c?"column":"row",padding:c?"0":"0 16px",marginTop:-8},className:"u-flex u-w-100 u-h-100"},(null!=O?O:[]).map((function(e,t){return 6!==e.getDay()||w.find((function(t){return t.date===e.toISOString()}))?r.a.createElement(jt,{day:e,index:t,timetable:w,key:e.toISOString()}):null}))):r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100 u-h-100"},"loading"===_?r.a.createElement(Y.a,null):r.a.createElement(J.default,{variant:"h6",color:"textSecondary"},l("Timetable.noCourses")))))},Ot=[{path:"",element:r.a.createElement(ae,null),children:[{path:"timetable",element:r.a.createElement(_t,null),children:[{path:"course/:courseId",element:r.a.createElement(ke,null)}]},{path:"homeworks",element:r.a.createElement(at,null),children:[{path:"homework/:homeworkId",element:r.a.createElement(Oe,null)}]},{path:"grades",element:r.a.createElement($e,null),children:[{path:"grade/:subjectId/:gradeId",element:r.a.createElement(xe,null)}]},{path:"presence",element:r.a.createElement(ct,null)},{path:"",element:r.a.createElement(F.a,{replace:!0,to:"/timetable"})}]}],wt=function(){var e=Object(I.b)(Ot);return r.a.createElement(I.a,{router:e})},Dt=a("BoVd"),St=a.n(Dt);document.addEventListener("DOMContentLoaded",(function(){var e,t,a,n,o;e=z(),t=e.root,a=e.client,n=e.lang,o=e.polyglot,t.render(r.a.createElement(x,{client:a,lang:n,polyglot:o},r.a.createElement(wt,null),C()("debug")&&r.a.createElement(St.a,null)))}))},vaJB:function(e,t){e.exports="/img/pronote.93e57ca9d57ae065311dcae0a35e62a4.svg"},zsXZ:function(e,t){e.exports="/img/import-school.7e60fa0f81601afae8d4a65b1b48a175.svg"}});