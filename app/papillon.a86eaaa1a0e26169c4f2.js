!function(e){function t(t){for(var n,i,o=t[0],c=t[1],s=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);m.length;)m.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=c;l.push([0,1]),a()}({0:function(e,t,a){a("jI5P"),e.exports=a("nXPL")},1:function(e,t){},2:function(e,t){},"2maa":function(e){e.exports=JSON.parse('{"Sidebar":{"timetable":"Timetable","homeworks":"Homeworks","grades":"Grades","presence":"Attendance"},"Timetable":{"title":"Timetable","to":"to","start":"Start","end":"End","location":"Location","teacher":"Teacher","status":"Status","duration":"Duration","informations":"Informations","noCourses":"No courses","cancelled":"Cancelled course"},"Homeworks":{"title":"Homeworks","emptyList":{"title":"No homeworks found","description":"There are no homeworks saved in your account"},"loadMore":"Load more homeworks"},"Grades":{"title":"Grades","dialogContext":"Informations","date":"Date","valuesList":"Results and averages","emptyList":{"title":"No grades","description":"You don\'t have any grades for this period","periods":"No available period"},"selectPeriod":"Select a period","selectYear":"Select a year","values":{"student":{"title":"Student\'s grade","description":"Grade you got for this subject"},"class":{"title":"Class average","description":"Class average for this subject"},"max":{"title":"Class best grade","description":"Best grade of the class for this subject"},"min":{"title":"Class worst grade","description":"Worst grade of the class for this subject"},"coefficient":{"title":"Coefficient","description":"Weight of this grade in your overall average"}}},"Presence":{"title":"Attendance","delay":"Delay","absence":"Absence","presence":"Event","justified":"Justified","notJustified":"Not justified","justifiedUnreceivable":"Justified (unreceivable)","emptyList":{"title":"No attendance events","description":"You don\'t have any attendance events"}}}')},"5z4W":function(e,t){e.exports={name:"Papillon",slug:"papillon",icon:"icon.svg",categories:[],version:"0.1.0",licence:"AGPL-3.0",editor:"",source:"https://github.com/cozy/cozy-papillon.git@build",developer:{name:"Cozy Cloud",url:"https://cozy.io"},routes:{"/":{folder:"/",index:"index.html",public:!1}},permissions:{apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},files:{type:"io.cozy.files",description:"Required by Papillon",verbs:["GET"]},calendar:{type:"io.cozy.calendar.*",description:"Required by Papillon",verbs:["GET"]},grades:{type:"io.cozy.timeseries.grades",description:"Required by Papillon",verbs:["GET"]},accounts:{type:"io.cozy.accounts",description:"Required by Papillon",verbs:["GET"]},identities:{type:"io.cozy.identities",description:"Required by Papillon",verbs:["GET"]}}}},"7SaY":function(e,t,a){},"7z1u":function(e,t,a){var n={"./_lib/build_formatting_tokens_reg_exp/index.js":"5XOE","./ar/build_distance_in_words_locale/index.js":"qs6D","./ar/build_format_locale/index.js":"80pQ","./ar/index.js":"n4NV","./be/build_distance_in_words_locale/index.js":"b7Vp","./be/build_format_locale/index.js":"STnx","./be/index.js":"ka/z","./bg/build_distance_in_words_locale/index.js":"fyh8","./bg/build_format_locale/index.js":"STBG","./bg/index.js":"BBHR","./ca/build_distance_in_words_locale/index.js":"4d8B","./ca/build_format_locale/index.js":"a88X","./ca/index.js":"Nz94","./cs/build_distance_in_words_locale/index.js":"70Ht","./cs/build_format_locale/index.js":"R/Ak","./cs/index.js":"oAfY","./da/build_distance_in_words_locale/index.js":"HjC7","./da/build_format_locale/index.js":"G0Zw","./da/index.js":"CJpN","./de/build_distance_in_words_locale/index.js":"DD2N","./de/build_format_locale/index.js":"pnJo","./de/index.js":"eBmD","./el/build_distance_in_words_locale/index.js":"tFqT","./el/build_format_locale/index.js":"twcE","./el/index.js":"m1rb","./en/build_distance_in_words_locale/index.js":"bjbr","./en/build_format_locale/index.js":"EW2Y","./en/index.js":"VkMk","./eo/build_distance_in_words_locale/index.js":"ujJO","./eo/build_format_locale/index.js":"S5Gq","./eo/index.js":"nn7U","./es/build_distance_in_words_locale/index.js":"h+mB","./es/build_format_locale/index.js":"Q4jc","./es/index.js":"4yJR","./fi/build_distance_in_words_locale/index.js":"Fpie","./fi/build_format_locale/index.js":"LTnX","./fi/index.js":"G/Qn","./fil/build_distance_in_words_locale/index.js":"VRy5","./fil/build_format_locale/index.js":"syEd","./fil/index.js":"k8V/","./fr/build_distance_in_words_locale/index.js":"nJeE","./fr/build_format_locale/index.js":"DeP4","./fr/index.js":"+owv","./hr/build_distance_in_words_locale/index.js":"Fs/O","./hr/build_format_locale/index.js":"ZlNX","./hr/index.js":"Kj+b","./hu/build_distance_in_words_locale/index.js":"8okG","./hu/build_format_locale/index.js":"lk8B","./hu/index.js":"+KHA","./id/build_distance_in_words_locale/index.js":"50BR","./id/build_format_locale/index.js":"18Vb","./id/index.js":"anKN","./is/build_distance_in_words_locale/index.js":"qUeK","./is/build_format_locale/index.js":"IcCt","./is/index.js":"4QE/","./it/build_distance_in_words_locale/index.js":"PCcA","./it/build_format_locale/index.js":"V71f","./it/index.js":"qK4z","./ja/build_distance_in_words_locale/index.js":"5vSx","./ja/build_format_locale/index.js":"CAsz","./ja/index.js":"XcQu","./ko/build_distance_in_words_locale/index.js":"jKsw","./ko/build_format_locale/index.js":"UEmh","./ko/index.js":"zOJj","./mk/build_distance_in_words_locale/index.js":"fcCd","./mk/build_format_locale/index.js":"re9F","./mk/index.js":"FDmM","./nb/build_distance_in_words_locale/index.js":"aEqN","./nb/build_format_locale/index.js":"pNMw","./nb/index.js":"mR4k","./nl/build_distance_in_words_locale/index.js":"7u2d","./nl/build_format_locale/index.js":"3riD","./nl/index.js":"06P9","./pl/build_distance_in_words_locale/index.js":"rygU","./pl/build_format_locale/index.js":"july","./pl/index.js":"vOlg","./pt/build_distance_in_words_locale/index.js":"sLR+","./pt/build_format_locale/index.js":"ZP65","./pt/index.js":"vSZg","./ro/build_distance_in_words_locale/index.js":"eJyG","./ro/build_format_locale/index.js":"fLwW","./ro/index.js":"OuEP","./ru/build_distance_in_words_locale/index.js":"KjgK","./ru/build_format_locale/index.js":"Tqgg","./ru/index.js":"T3Gn","./sk/build_distance_in_words_locale/index.js":"38t1","./sk/build_format_locale/index.js":"myxh","./sk/index.js":"In70","./sl/build_distance_in_words_locale/index.js":"Mhi5","./sl/build_format_locale/index.js":"yfgk","./sl/index.js":"D9r0","./sr/build_distance_in_words_locale/index.js":"I8h+","./sr/build_format_locale/index.js":"0FXG","./sr/index.js":"lQaB","./sv/build_distance_in_words_locale/index.js":"z6xu","./sv/build_format_locale/index.js":"jmSq","./sv/index.js":"SMJc","./th/build_distance_in_words_locale/index.js":"qHE1","./th/build_format_locale/index.js":"+W4l","./th/index.js":"5DsP","./tr/build_distance_in_words_locale/index.js":"0z6Z","./tr/build_format_locale/index.js":"NK/q","./tr/index.js":"OevD","./zh_cn/build_distance_in_words_locale/index.js":"SBqD","./zh_cn/build_format_locale/index.js":"219J","./zh_cn/index.js":"QhI5","./zh_tw/build_distance_in_words_locale/index.js":"7Fp2","./zh_tw/build_format_locale/index.js":"l09L","./zh_tw/index.js":"TDp1"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="7z1u"},Hsuv:function(e){e.exports=JSON.parse('{"Sidebar":{"timetable":"Emploi du temps","homeworks":"Travail Ã  faire","grades":"Notes","presence":"Vie scolaire"},"Timetable":{"title":"Emploi du temps","to":"au","start":"DÃ©but","end":"Fin","location":"Lieu","teacher":"Professeur","status":"Statut","duration":"DurÃ©e","informations":"Informations","noCourses":"Aucun cours","cancelled":"Cours annulÃ©"},"Homeworks":{"title":"Travail Ã  faire","emptyList":{"title":"Aucun devoir","description":"Il n\'y a pas de devoirs sauvegardÃ©s dans votre compte"},"loadMore":"Charger plus de devoirs"},"Grades":{"title":"Notes","dialogContext":"Informations","date":"Date","valuesList":"RÃ©sultats et moyennes","emptyList":{"title":"Aucune note disponible","description":"Vous n\'avez pas de notes pour cette pÃ©riode","periods":"Aucune pÃ©riode disponible"},"selectPeriod":"SÃ©lectionner une pÃ©riode","selectYear":"SÃ©lectionner une annÃ©e","values":{"student":{"title":"Note de l\'Ã©lÃ¨ve","description":"Votre note obtenue pour ce sujet"},"class":{"title":"Moyenne de la classe","description":"La moyenne de la classe pour ce sujet"},"max":{"title":"Note haute de la classe","description":"La meilleure note de la classe pour ce sujet"},"min":{"title":"Note basse de la classe","description":"La moins bonne note de la classe pour ce sujet"},"coefficient":{"title":"Coefficient","description":"Poids de cette note dans le calcul de la moyenne gÃ©nÃ©rale"}}},"Presence":{"title":"Vie scolaire","delay":"Retard","absence":"Absence","presence":"Ã‰vÃ¨nement","justified":"JustifiÃ©(e)","notJustified":"InjustifiÃ©(e)","justifiedUnreceivable":"Motif non valable","emptyList":{"title":"Aucun Ã©venement","description":"Vous n\'avez pas d\'Ã©venements de vie scolaire"}}}')},eUFy:function(e,t,a){var n={"./en":"2maa","./en.json":"2maa","./fr":"Hsuv","./fr.json":"Hsuv"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="eUFy"},nXPL:function(e,t,a){"use strict";a.r(t);a("k37E"),a("QLHQ"),a("oULE"),a("7SaY");var n=a("ivGQ"),r=a.n(n),l=a("p/pw"),i=a("xEu0"),o=a.n(i),c=a("HROS"),s=a("vTbG"),u=a("Rx+m"),d=a("5LIP"),m=a("Aaol"),f=a("0Lot"),p=a("BqmN"),b=Object(f.a)({disableGlobal:!0}),y=function(e){var t=e.client,a=e.lang,n=e.polyglot,o=e.children;return r.a.createElement(c.WebviewIntentProvider,null,r.a.createElement(p.b,{generateClassName:b},r.a.createElement(i.CozyProvider,{client:t},r.a.createElement(l.BarProvider,null,r.a.createElement(m.I18n,{lang:a,polyglot:n},r.a.createElement(d.default,null,r.a.createElement(u.BreakpointsProvider,null,r.a.createElement(s.a,null,o))))))))},j=a("euuj"),v=a.n(j),g=a("iOQm"),E={timetable:{doctype:"io.cozy.calendar.events"},homeworks:{doctype:"io.cozy.calendar.todos"},grades:{doctype:"io.cozy.timeseries.grades"},presence:{doctype:"io.cozy.calendar.presence"}},h=a("8ZpT"),x=a.n(h),_=a("8XZk"),O=a("5z4W"),w=a.n(O),D=v()((function(){var e,t,n,r=document.querySelector("[role=application]"),l=Object(g.createRoot)(r),i=function(e){var t=JSON.parse(e.dataset.cozy),a=window.location.protocol,n="".concat(a,"//").concat(t.domain);return new o.a({uri:n,token:t.token,appMetadata:{slug:w.a.name,version:w.a.version},schema:E,store:!0})}(r),c=null===(e=JSON.parse(r.dataset.cozy))||void 0===e?void 0:e.locale,s=(n="en",/^\{\{\..*\}\}$/.test(t=c)?n:t),u=Object(_.b)(s,(function(e){return a("eUFy")("./".concat(e))}));return i.registerPlugin(x.a.plugin),{root:l,client:i,lang:s,polyglot:u}})),S=a("P0ff"),P=a("Iyno"),k=a("uRLs"),C=a.n(k),F=a("pvOl"),q=a("4XnK"),M=a("HYTT"),L=a("keV2"),z=a("WY6r"),I=a("Gyqq"),N=a("d5dM"),T=a("9Ub/"),A=a("N8wp"),G=Object(I.e)((function(e){var t=e.children,a=e.className,n=e.active,l=e.activeClassName,i=e.onClick;return r.a.createElement("a",{onClick:i,className:C()(a,n?l:null)},t)})),R=function(){var e=Object(m.useI18n)().t,t=Object(u.default)().isMobile,a=Object(i.useClient)(),n=Object(S.o)(),o=Object(S.m)().pathname.slice(1),c=function(e){return{onClick:function(){n("/"+e.join("/"))},active:o.includes(e[0])}};return r.a.createElement(z.b,null,r.a.createElement(N.a,null,r.a.createElement(I.d,null,r.a.createElement(I.b,null,r.a.createElement(G,c(["timetable"]),r.a.createElement(I.a,{icon:F.a}),r.a.createElement(I.c,null,e("Sidebar.timetable")))),r.a.createElement(I.b,null,r.a.createElement(G,c(["homeworks"]),r.a.createElement(I.a,{icon:q.a}),r.a.createElement(I.c,null,e("Sidebar.homeworks")))),r.a.createElement(I.b,null,r.a.createElement(G,c(["grades"]),r.a.createElement(I.a,{icon:M.a}),r.a.createElement(I.c,null,e("Sidebar.grades")))),r.a.createElement(I.b,null,r.a.createElement(G,c(["presence"]),r.a.createElement(I.a,{icon:L.a}),r.a.createElement(I.c,null,e("Sidebar.presence")))))),r.a.createElement(l.BarComponent,null),r.a.createElement(z.c,null,r.a.createElement(z.a,null,t&&r.a.createElement(l.BarCenter,null,r.a.createElement(T.default,{variant:"h5"},a.appMetadata.slug)),r.a.createElement(S.b,null))),r.a.createElement(A.a,{t:e}))},B=a("LGLP"),Y=a.n(B),J=a("XkwL"),H=a.n(J),Q=a("QGb3"),W=a.n(Q),V=o.a.fetchPolicies.olderThan(54e4),U=a("/5Aj"),$=a("F7WE"),X=a("OEPu"),K=a("J58c"),Z=a.n(K);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=[{label:"accompagnementperso",pretty:"Accompagnement personnalisÃ©",formats:{default:["accompagnement personnalise","accompagnemt perso"]},emoji:"ðŸ¤"},{label:"atprofessionnalis",pretty:"Atelier de professionnalisation",formats:{default:["atelier de professionnalisation","at professionnalis"]},emoji:"ðŸ”§"},{label:"artsplastiques",pretty:"Arts plastiques",formats:{default:["arts plastiques","artsplastiques"]},emoji:"ðŸŽ¨"},{label:"bloc1smdsi",pretty:"Bloc 1 : Support et mise a disposition des services informatiques",formats:{default:["bloc 1 support et mise a disposition des services informatiques","bloc 1 smdsi"]},emoji:"ðŸ’»"},{label:"bloc2sisr",pretty:"Bloc 2 : Solutions dâ€™infrastructure systemes et rÃ©seaux",formats:{default:["bloc 2 solutions dâ€™infrastructure systemes et reseaux","bloc 2 sisr"]},emoji:"ðŸ”Œ"},{label:"bloc2slam",pretty:"Bloc 2 : Solutions logicielles et applications mÃ©tiers",formats:{default:["bloc 2 solutions logicielles et applications metiers","bloc 2 slam"]},emoji:"ðŸ“±"},{label:"bloc3tp",pretty:"Bloc 3 : Travaux pratiques",formats:{default:["bloc 3 travaux pratiques","bloc 3 tp"]},emoji:"ðŸ› ï¸"},{label:"culecojurmanapp",pretty:"Culture Ã©conomique, juridique et managÃ©riale appliquÃ©e",formats:{default:["culture economique juridique et manageriale appliquee","cul eco jur man app"]},emoji:"ðŸ’¼"},{label:"culturegeneetexpr",pretty:"Culture gÃ©nerale et expression",formats:{default:["culture generale et expression","culture gene et expr"]},emoji:"ðŸ“š"},{label:"cultecojurmanag",pretty:"Culture Ã©conomique, juridique et managÃ©riale",formats:{default:["culture economique juridique et manageriale","cult eco jur manag"]},emoji:"ðŸ’¼"},{label:"dnlsesanglais",pretty:"DNL : Sciences Ã©conomiques et sociales en anglais",formats:{default:["dnl ses anglais"]},emoji:"ðŸ‡¬ðŸ‡§"},{label:"educationcivique",pretty:"Ã‰ducation civique",formats:{default:["education civique","education civique"]},emoji:"ðŸ—³ï¸"},{label:"enseignscientifique",pretty:"Enseignement scientifique",formats:{default:["enseignement scientifique","enseign scientifique"]},emoji:"ðŸ”¬"},{label:"edphysiquesport",pretty:"Ã‰ducation physique & sportive",formats:{default:["education physique et sportive","ed physique sport","education physique et sportive","eps"]},emoji:"ðŸƒ"},{label:"educationmusicale",pretty:"Ã‰ducation musicale",formats:{default:["education musicale","education musicale"]},emoji:"ðŸŽµ"},{label:"francais",pretty:"FranÃ§ais",formats:{default:["franÃ§ais","francais"]},emoji:"ðŸ“"},{label:"histoiregeo",pretty:"Histoire-GÃ©ographie",formats:{default:["histoire geographie","histoire geo","histoire geograph","histoire-geographie","histoire-geographie"]},emoji:"ðŸŒ"},{label:"humanlitterphilo",pretty:"Humanites, LittÃ©rature & Philosophie",formats:{default:["humanites litterature philosophie","human litter philo"]},emoji:"ðŸ“–"},{label:"llcanglmondcont",pretty:"LLCER Anglais Monde Contemporain",formats:{default:["llcer anglais monde contemporain","llc angl mond cont"]},emoji:"ðŸ‡¬ðŸ‡§"},{label:"mathspourinformatq",pretty:"MathÃ©matiques pour lâ€™Informatique",formats:{default:["mathematiques pour lâ€™informatique","maths pour informatq"]},emoji:"ðŸ§®"},{label:"mathematiques",pretty:"MathÃ©matiques",formats:{default:["mathematiques","mathematiques","mathematiques 1ere","math 1ere"]},emoji:"ðŸ“"},{label:"numeriquescinform",pretty:"NumÃ©rique & Sciences Informatiques",formats:{default:["numerique et sciences informatiques","numerique sc inform"]},emoji:"ðŸ’»"},{label:"physiquechimie",pretty:"Physique-Chimie",formats:{default:["physique chimie","phys chim"]},emoji:"âš›ï¸"},{label:"sceconosociales",pretty:"Sciences Ã‰conomiques & Sociales",formats:{default:["sciences economiques et sociales","sc econo sociales","sciences economiques et sociales"]},emoji:"ðŸ’°"},{label:"sciencesvieterre",pretty:"Sciences de la Vie & de la Terre",formats:{default:["sciences de la vie et de la terre","sciences de la vie et de la terre","sciences vie terre"]},emoji:"ðŸŒ¿"},{label:"scnumeriqtechnol",pretty:"Sciences NumÃ©riques & Technologie",formats:{default:["sciences numeriques et technologie","sc numeriq technol"]},emoji:"ðŸ’»"},{label:"viedeclasse",pretty:"Vie de classe",formats:{default:["vie de classe","vie de classe"]},emoji:"ðŸ‘¥"}],ne=function(e){var t,a,n={expressionecrite:"expression Ã©crite",expressionorale:"expression orale",comprehensionorale:"comprÃ©hension orale",comprehensionecrite:"comprÃ©hension Ã©crite",ecrit:"Ã©crit",oral:"oral"},r=e.toLowerCase().split(new RegExp(Object.keys(n).join("|")))[0].replace("ensscientifique",""),l=ae.find((function(e){return e.label===r})),i=(null===(t=Object.entries(n).find((function(t){var a=H()(t,1)[0];return e.includes(a)})))||void 0===t?void 0:t[1])||"";return l?te(te({},l),{},{speciality:i}):{label:e,pretty:(a=r,a.length<4?a.toUpperCase():a.charAt(0).toUpperCase()+a.slice(1)),formats:{default:[e]},speciality:i}},re=a("xr2j"),le=a("4jS1"),ie=a("i5f2"),oe=a("dUf/"),ce=function(e){var t=e.grade,a=e.j,n=e.subject,l={cozyGradeChip:{display:"flex",alignItems:"flex-end"}},i=Object(S.o)();return r.a.createElement("div",{key:t.id},r.a.createElement(le.default,{button:!0,onClick:function(){i("/grades/grade/".concat(n._id,"/").concat(t.id))}},r.a.createElement(ie.default,null,r.a.createElement(T.default,{variant:"h3",color:"textPrimary"},ne(n.subject).emoji||"ðŸ“š")),r.a.createElement(oe.default,{primary:t.label||"Note sans titre",secondary:new Date(t.date).toLocaleDateString("default",{year:"numeric",month:"long",day:"numeric"})}),r.a.createElement("div",{className:"cozy-grade-chip",style:l.cozyGradeChip},r.a.createElement(T.default,{variant:"body1",color:"textPrimary"},parseFloat(t.value.student).toFixed(2)),r.a.createElement(T.default,{variant:"body2",color:"textSecondary",style:{marginBottom:.5}},"/",parseFloat(t.value.outOf).toFixed(0)))),a!==n.series.length-1&&r.a.createElement(re.a,{component:"li",variant:"inset"}))},se=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7B731","#6A5ACD","#FF69B4","#20B2AA","#FF7F50","#9370DB","#3CB371","#FF4500","#1E90FF","#FFD700","#8A2BE2","#32CD32","#FF1493","#00CED1","#FF8C00","#7B68EE","#00FA9A","#DC143C","#1ABC9C","#F39C12","#8E44AD","#2ECC71","#E74C3C","#3498DB","#F1C40F","#9B59B6","#2980B9","#E67E22","#27AE60","#D35400"];function ue(e,t){if(0===e.length)return null;var a=function(e){for(var t=0,a=0;a<e.length;a++)t=Math.imul(31,t)+e.charCodeAt(a)|0;return function(){return(((t=Math.imul(31,t)+1|0)^t>>>15)>>>0)/4294967296}}(t);return e[Math.floor(a()*e.length)]}var de=function(e){return ue(se,e)},me=a("MRub"),fe=function(e){var t=e.subject;return r.a.createElement(me.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"14px",flex:1,width:"100%",overflow:"hidden"}},r.a.createElement("div",{style:{width:"8px",height:"8px",backgroundColor:de(t.subject),borderRadius:"50px"}}),r.a.createElement(T.default,{variant:"subtitle1",color:"textSecondary",noWrap:!0},ne(t.subject).pretty||""),r.a.createElement(T.default,{variant:"caption",color:"textSecondary",noWrap:!0},ne(t.subject).speciality||"")),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(T.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},parseFloat(t.aggregation.avgGrades).toFixed(2)),r.a.createElement(T.default,{variant:"body2",color:"textSecondary",style:{marginBottom:.5}},"/20"))))},pe=a("J14j"),be=a("gtDA"),ye=a("1Crc"),je=function(e){var t=e.periodDropdownRef,a=e.selectedPeriod,n=e.setSelectedPeriod,l=e.setPeriodMenuOpen,i=e.periodMenuOpen,o=e.periods,c=e.t,s=e.textVariant;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return l(!i)},textVariant:s},a||c("Grades.selectPeriod")),r.a.createElement(be.a,{open:i,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return l(!1)}},o.map((function(e,t){return r.a.createElement(ye.a,{key:t,onClick:function(){n(e),l(!1)},selected:e===a},r.a.createElement(oe.default,{primary:e}))})),0===o.length&&r.a.createElement(ye.a,{disabled:!0},r.a.createElement(oe.default,{primary:c("Grades.emptyList.periods")}))))},ve=function(e){var t=e.yearDropdownRef,a=e.selectedYear,n=e.selectedPeriod,l=e.setSelectedYear,i=e.setYearMenuOpen,o=e.yearMenuOpen,c=e.allPeriods,s=e.t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{ref:t,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return i(!o)}},a||s("Grades.selectYear")),r.a.createElement(be.a,{open:o,anchorEl:t.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,onClose:function(){return i(!1)}},W()(new Set(c.filter((function(e){return e.title===n})).map((function(e){return e.year})))).map((function(e,t){return r.a.createElement(ye.a,{key:t,onClick:function(){l(e),i(!1)},selected:e===a},r.a.createElement(oe.default,{primary:e}))}))))},ge=function(e){var t=e.periodDropdownRef,a=e.yearDropdownRef,n=e.selectedPeriod,l=e.setSelectedPeriod,i=e.selectedYear,o=e.setSelectedYear,c=e.setPeriodMenuOpen,s=e.periodMenuOpen,u=e.setYearMenuOpen,d=e.yearMenuOpen,m=e.allPeriods,f=e.periods,p=e.years,b=e.t;return r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px"}},r.a.createElement(je,{periodDropdownRef:t,selectedPeriod:n,setSelectedPeriod:l,setPeriodMenuOpen:c,periodMenuOpen:s,periods:f,t:b}),r.a.createElement(ve,{yearDropdownRef:a,selectedYear:i,setSelectedYear:o,setYearMenuOpen:u,yearMenuOpen:d,allPeriods:m,selectedPeriod:n,years:p,t:b}))},Ee=a("gQXR"),he=a("HFC8"),xe=function(e){var t=e.title,a=e.children,n=e.loading,i=Object(u.default)().isMobile;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(l.BarCenter,null,r.a.createElement(T.default,{variant:"h5"},t)),r.a.createElement(l.BarRight,null,a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{square:!0,className:"u-p-1 u-w-100 u-flex u-flex-row u-flex-items-center u-flex-justify-between"},r.a.createElement(T.default,{variant:"h4",color:"textPrimary"},t),a)),n&&r.a.createElement(he.a,null),!i&&r.a.createElement(re.a,null))},_e=function(){var e,t=Object(m.useI18n)().t,a=Object(u.default)().isMobile,l={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").where({title:e||{$gt:null}}).indexFields(["title"])},options:{as:"io.cozy.timeseries.grades/period/"+e,fetchPolicy:V}},o=Object(i.useQuery)(l.definition,l.options),c=o.data,s="loading"==o.fetchStatus,d=W()(new Set((null!=c?c:[]).map((function(e){return{title:e.title,year:new Date(e.startDate).getFullYear()}})))),f=W()(new Set((null!=d?d:[]).map((function(e){return e.title})))),p=W()(new Set((null!=d?d:[]).map((function(e){return e.year})))),b=Object(n.useState)(""),y=H()(b,2),j=y[0],v=y[1],g=Object(n.useState)(""),E=H()(g,2),h=E[0],x=E[1];Object(n.useEffect)((function(){j&&h&&function(e,t){if(!d.some((function(a){return a.title===e&&a.year===t}))){var a,n=null===(a=d.find((function(t){return t.title===e})))||void 0===a?void 0:a.year;n&&x(n)}}(j,h)}),[j,h]),""===j&&f.length>0&&v(f[0]),""===h&&p.length>0&&x(p[0]);var _=Object(n.useState)(!1),O=H()(_,2),w=O[0],D=O[1],P=Object(n.useState)(!1),k=H()(P,2),C=k[0],F=k[1],q=r.a.useRef(null),M=r.a.useRef(null),L=r.a.useRef(null),z=r.a.useRef(null),I={periodDropdownRef:q,yearDropdownRef:M,selectedPeriod:j,setSelectedPeriod:v,selectedYear:h,setSelectedYear:x,setPeriodMenuOpen:D,periodMenuOpen:w,setYearMenuOpen:F,yearMenuOpen:C,allPeriods:d,periods:f,years:p,t:t};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,null),r.a.createElement(xe,{title:a?r.a.createElement(je,Y()({textVariant:"h5"},I,{periodDropdownRef:L,yearDropdownRef:z})):t("Grades.title"),loading:s},a?r.a.createElement(ve,Y()({},I,{yearDropdownRef:z})):r.a.createElement(ge,I)),0===(null!=c?c:[]).length&&!s&&r.a.createElement(U.a,{icon:$.a,title:t("Grades.emptyList.title"),text:t("Grades.emptyList.description"),centered:!0}),(null!=c?c:[]).filter((function(e){return e.title===j})).filter((function(e){return new Date(e.startDate).getFullYear()===parseInt(h)})).map((function(e,t){return r.a.createElement(X.default,{key:t,subheader:r.a.createElement(fe,{subject:e})},e.series.map((function(t,a){return r.a.createElement(ce,{key:a,grade:t,j:a,subject:e})})))})))},Oe=a("Yb2N"),we=a("AHiN"),De=a("+XJ+"),Se=a("oRW6"),Pe=function(e){var t=e.event,a=e.j,n=e.group,l=Object(m.useI18n)().t;return r.a.createElement("div",{key:t._id},r.a.createElement(le.default,{key:t._id},r.a.createElement(ie.default,null,r.a.createElement(we.default,{icon:"DELAY"==t.xType?Se.a:"ABSENCE"==t.xType?L.a:De.a})),r.a.createElement(oe.default,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(T.default,{variant:"h6",noWrap:!0},"DELAY"==t.xType?l("Presence.delay"):"ABSENCE"==t.xType?l("Presence.absence"):l("Presence.presence")),r.a.createElement(T.default,{variant:"body1",noWrap:!0},t.label)),secondary:r.a.createElement(T.default,{variant:"body2",color:"textSecondary",noWrap:!0},new Date(t.start).toLocaleString("default",{weekday:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}))}),r.a.createElement(Oe.a,{label:t.xJustified?l("Presence.justified"):t.label?l("Presence.justifiedUnreceivable"):l("Presence.notJustified"),color:t.xJustified?"success":t.label?"default":"error",disabled:!t.xJustified&&t.label})),a!==n.events.length-1&&r.a.createElement(re.a,{component:"li",variant:"inset"}))};function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=function(){var e=Object(m.useI18n)().t,t={definition:function(){return Object(i.Q)("io.cozy.calendar.presence").where({start:{$gt:null}}).sortBy([{start:"desc"}]).indexFields(["start"])},options:{as:"io.cozy.calendar.presence",fetchPolicy:V}},a=Object(i.useQuery)(t.definition,t.options),n=a.data,l="loading"==a.fetchStatus,o=(null!=n?n:[]).reduce((function(e,t){var a=new Date(t.start).getMonth();return e.find((function(e){return e.month===a}))?e.map((function(e){return e.month===a?Ce(Ce({},e),{},{events:[].concat(W()(e.events),[t])}):e})):[].concat(W()(e),[{month:a,prettyMonth:new Date(t.start).toLocaleString("default",{month:"long",year:"numeric"}),events:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(xe,{title:e("Presence.title"),loading:l}),0===o.length&&!l&&r.a.createElement(U.a,{icon:r.a.createElement($.a,null),title:e("Presence.emptyList.title"),description:e("Presence.emptyList.description")}),o.map((function(e){return r.a.createElement(X.default,{key:e.month},r.a.createElement(me.a,null,r.a.createElement(T.default,{variant:"subtitle2",color:"textSecondary"},e.prettyMonth)),e.events.map((function(t,a){return r.a.createElement(Pe,{key:t._id,event:t,j:a,group:e})})))}))))},qe=a("13md"),Me=function(e){var t=e.hw,a=e.j,n=e.day,l=Object(S.o)();return r.a.createElement("div",{key:a},r.a.createElement(le.default,{button:!0,onClick:function(){l("homework/".concat(t._id))}},r.a.createElement(ie.default,null,r.a.createElement(T.default,{variant:"h3",color:"textPrimary"},ne(t.subject).emoji||"ðŸ“š")),r.a.createElement(oe.default,{primary:r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:de(t.subject)}}),r.a.createElement(T.default,{variant:"subtitle2",color:"textSecondary"},ne(t.subject).pretty)),secondary:r.a.createElement(T.default,{variant:"body1",color:"textPrimary",noWrap:!0},t.summary)})),a<n.hws.length-1&&r.a.createElement(re.a,{component:"li",variant:"inset"}))};function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie=function(){var e=Object(m.useI18n)().t,t={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").where({dueDate:{$gt:null}}).sortBy([{dueDate:"desc"}]).indexFields(["dueDate"])},options:{as:"io.cozy.calendar.todos",fetchPolicy:V}},a=Object(i.useQuery)(t.definition,t.options),n=a.data,l=a.fetchStatus,o=a.hasMore,c=a.fetchMore,s="loading"==l,u=(null!=n?n:[]).reduce((function(e,t){var a=t.dueDate.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"),n=new Date(a),r=n.toISOString();return e.find((function(e){return e.date===r}))?e.map((function(e){return e.date===r?ze(ze({},e),{},{hws:[].concat(W()(e.hws),[t])}):e})):[].concat(W()(e),[{date:n.toISOString(),hws:[t]}])}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,null),r.a.createElement("div",null,r.a.createElement(xe,{title:e("Homeworks.title"),loading:s}),0===u.length&&!s&&r.a.createElement(U.a,{icon:$.a,title:e("Homeworks.emptyList.title"),description:e("Homeworks.emptyList.description")}),r.a.createElement("div",{style:{height:"100%",overflow:"auto",overflowY:"scroll"}},u.map((function(e,t){return r.a.createElement(X.default,{key:t,className:e.current?"current":""},r.a.createElement(me.a,null,r.a.createElement(T.default,{variant:"subtitle2",color:"textSecondary"},new Date(e.date).toLocaleDateString("default",{weekday:"long",month:"long",day:"numeric",year:"numeric"}))),e.hws.map((function(t,a){return r.a.createElement(Me,{key:a,hw:t,j:a,day:e})})))})),o&&r.a.createElement(qe.a,{label:e("Homeworks.loadMore"),fetchMore:c}))))},Ne=a("lTBH"),Te=a("HCvV"),Ae=a("K4g+"),Ge=a("Mb5X"),Re=function(e){var t=e.date,a=e.onDateChange,l=e.textVariant,i=Object(n.useState)(new Date(t)),o=H()(i,2),c=o[0],s=o[1],u=Object(m.useI18n)().t;Object(n.useEffect)((function(){a&&a(c)}),[c]);var d=Object(n.useState)(c.getDate()),f=H()(d,2),p=f[0],b=f[1],y=Object(n.useState)(c.getMonth()),j=H()(y,2),v=j[0],g=j[1],E=Object(n.useState)(c.getFullYear()),h=H()(E,2),x=h[0],_=h[1],O=r.a.useRef(null),w=r.a.useRef(null),D=r.a.useRef(null),S=Object(n.useState)(!1),P=H()(S,2),k=P[0],C=P[1],F=Object(n.useState)(!1),q=H()(F,2),M=q[0],L=q[1],z=Object(n.useState)(!1),I=H()(z,2),N=I[0],T=I[1],A=function(e,t){for(var a=new Date(e,t,0).getDate(),n=[],r=1;r<=a;r++){1===new Date(e,t-1,r).getDay()&&n.push(r)}return n};Object(n.useEffect)((function(){var e=A(x,v+1),t=p;e.includes(p)||(t=e.reduce((function(e,t){return Math.abs(t-p)<Math.abs(e-p)?t:e}))),s(new Date(x,v,t))}),[p,v,x]);return r.a.createElement("div",{style:{display:"flex",gap:"h5"==l?"6px":"12px"}},r.a.createElement(pe.a,{ref:O,onClick:function(){return C(!0)},textVariant:l},c.toLocaleDateString("default",{day:"2-digit"})),r.a.createElement(pe.a,{ref:w,onClick:function(){return L(!0)},textVariant:l},c.toLocaleDateString("default",{month:"long"})),r.a.createElement(pe.a,{ref:D,onClick:function(){return T(!0)},textVariant:l},c.toLocaleDateString("default",{year:"numeric"})),r.a.createElement("div",{style:{margin:"-4px 2px",marginLeft:"6px",gap:"8px",display:"flex",border:"1px solid var(--hintTextColor)",borderRadius:"40px",padding:"3px 6px"}},r.a.createElement(Te.default,{size:"small",onClick:function(){return(e=new Date(c)).setDate(c.getDate()-7),void s(e);var e}},r.a.createElement(we.default,{icon:Ae.a})),r.a.createElement(Te.default,{size:"small",onClick:function(){return(e=new Date(c)).setDate(c.getDate()+7),void s(e);var e}},r.a.createElement(we.default,{icon:Ge.default}))),r.a.createElement(be.a,{open:k,anchorEl:O.current,keepMounted:!0,onClose:function(){return C(!1)}},A(x,v+1).map((function(e){return r.a.createElement(ye.a,{key:e,selected:e===c.getDate(),onClick:function(){b(e),C(!1)}},e," ",u("Timetable.to")," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(c.getFullYear(),e,0);return a.setDate(a.getDate()+t),a.getDate()}(v,6))}))),r.a.createElement(be.a,{open:M,anchorEl:w.current,keepMounted:!0,onClose:function(){return L(!1)}},W()(Array(12).keys()).map((function(e){return r.a.createElement(ye.a,{key:e,selected:e===c.getMonth(),onClick:function(){g(e),L(!1)}},new Date(0,e).toLocaleDateString("default",{month:"long"}))}))),r.a.createElement(be.a,{open:N,anchorEl:D.current,keepMounted:!0,onClose:function(){return T(!1)}},W()(Array(30).keys()).map((function(e){return r.a.createElement(ye.a,{key:e,selected:c.getFullYear()+e-10===c.getFullYear(),onClick:function(){_(c.getFullYear()+e-10),T(!1)}},c.getFullYear()+e-10)}))))},Be=function(e){var t=e.color;return r.a.createElement("div",{style:{minWidth:"4px",backgroundColor:t||"#888"},className:"u-flex u-flex-items-center u-flex-justify-center u-h-3 u-bdrs-4"})},Ye=function(e){var t=e.course,a=Object(S.o)(),n=Object(m.useI18n)().t;return r.a.createElement(le.default,{key:t._id,button:!0,onClick:function(){a("/timetable/course/".concat(t._id))},disabled:"CANCELLED"==t.status},r.a.createElement(Be,{color:de(t.subject)}),r.a.createElement(oe.default,{primary:r.a.createElement(r.a.Fragment,null,"CANCELLED"!==t.status?r.a.createElement(T.default,{variant:"subtitle2",color:"textSecondary",noWrap:!0},new Date(t.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," "):r.a.createElement(T.default,{variant:"subtitle2",color:"error",noWrap:!0},n("Timetable.cancelled")),r.a.createElement(T.default,{variant:"h6",color:"textPrimary",noWrap:!0},ne(t.subject).pretty)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(T.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.location),r.a.createElement(T.default,{variant:"body2",color:"textSecondary",noWrap:!0},t.organizer))}))},Je=function(e){var t,a,n,l,i=e.day,o=e.timetable,c=Object(m.useI18n)().t;return r.a.createElement("div",{key:i.toISOString(),style:{overflowX:"hidden"},className:"u-flex u-flex-column u-w-100 u-h-100"},r.a.createElement(X.default,null,r.a.createElement(me.a,null,i.toLocaleDateString("default",{weekday:"long",day:"2-digit"})),null===(t=null!==(a=o.find((function(e){return e.date===i.toISOString()})))&&void 0!==a?a:{courses:[]})||void 0===t?void 0:t.courses.map((function(e){return r.a.createElement(Ye,{course:e,key:e._id})})),0===(null===(n=null!==(l=o.find((function(e){return e.date===i.toISOString()})))&&void 0!==l?l:{courses:[]})||void 0===n?void 0:n.courses.length)&&r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100"},r.a.createElement(T.default,{variant:"body2",color:"textSecondary"},c("Timetable.noCourses")))))};function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=function(){var e=Object(m.useI18n)().t,t=Object(u.default)().isMobile,a=Object(n.useState)(new Date("2024-03-01")),l=H()(a,2),o=l[0],c=l[1];o.setDate(o.getDate()-(o.getDay()-1));var s,d,f=Object(n.useMemo)((function(){var e=new Date(o);return e.setDate(e.getDate()+6),e}),[o]),p={definition:function(){return Object(i.Q)("io.cozy.calendar.events").where({start:s?{$gte:s}:{$gt:null},end:d?{$lte:d}:{$lt:null}}).indexFields(["start","end"])},options:{as:"io.cozy.calendar.events/start/"+(s=o)+"/end/"+(d=f),fetchPolicy:V}},b=Object(i.useQuery)(p.definition,p.options),y=b.data,j=b.fetchStatus,v=Object(n.useMemo)((function(){return W()(Array(6).keys()).map((function(e){var t=new Date(o);return t.setDate(t.getDate()+e),t.setHours(0,0,0,0),t}))}),[o]),g=Object(n.useMemo)((function(){return(null!=y?y:[]).reduce((function(e,t){var a=new Date(t.start);a.setHours(0,0,0,0);var n=a.toISOString();return e.find((function(e){return e.date===n}))?e.map((function(e){return e.date===n?Qe(Qe({},e),{},{courses:[].concat(W()(e.courses),[t])}):e})):[].concat(W()(e),[{date:a.toISOString(),courses:[t]}])}),[])}),[y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.b,null),r.a.createElement("div",null,r.a.createElement(xe,{title:t?r.a.createElement(Re,{date:o,onDateChange:function(e){return c(e)},textVariant:"h5"}):e("Timetable.title")},!t&&r.a.createElement(Re,{date:o,onDateChange:function(e){return c(e)},textVariant:"subtitle1"})),0!==g.length?r.a.createElement("div",{style:{flexDirection:t?"column":"row"},className:"u-flex u-w-100 u-h-100"},(null!=v?v:[]).map((function(e){return 6!==e.getDay()||g.find((function(t){return t.date===e.toISOString()}))?r.a.createElement(Je,{day:e,timetable:g,key:e.toISOString()}):null}))):r.a.createElement("div",{className:"u-flex u-flex-column u-flex-justify-center u-flex-items-center u-p-1 u-w-100 u-h-100"},"loading"===j?r.a.createElement(Ne.a,null):r.a.createElement(T.default,{variant:"h6",color:"textSecondary"},e("Timetable.noCourses")))))},Ve=a("tRUj"),Ue=a("PfmE"),$e=a("KsnS"),Xe=a("LFaT"),Ke=a("XAJ7"),Ze=function(e){var t=e.subject,a=e.date;return r.a.createElement("div",{style:{gap:16},className:"u-flex u-flex-items-center"},r.a.createElement(T.default,{variant:"h3"},t&&(ne(t).emoji||"ðŸ“š")),r.a.createElement("div",null,r.a.createElement(T.default,{variant:"h6"},t&&ne(t).pretty),a&&r.a.createElement(T.default,{variant:"subtitle2",color:"textSecondary"},new Date(a).toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))))},et=function(){var e,t,a,n,l=Object(S.q)().courseId,o=Object(S.o)(),c={definition:function(){return Object(i.Q)("io.cozy.calendar.events").getById(n)},options:{as:"io.cozy.calendar.events/"+(n=l),fetchPolicy:V,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=Object(m.useI18n)().t,d=s?[{title:u("Timetable.start"),subtitle:new Date(s.start).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:Se.a},{title:u("Timetable.end"),subtitle:new Date(s.end).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"}),icon:Ue.a}]:[],f=s?[{title:u("Timetable.location"),subtitle:null!==(e=s.location)&&void 0!==e?e:"Non dÃ©fini",icon:Ke.default},{title:u("Timetable.teacher"),subtitle:null!==(t=s.organizer)&&void 0!==t?t:"Non dÃ©fini",icon:Xe.a},{title:u("Timetable.status"),subtitle:"CONFIRMED"==(null!==(a=s.status)&&void 0!==a?a:"")?"Maintenu":"Non maintenu",icon:$e.a}]:[];return r.a.createElement(Ve.a,{open:!0,disableGutters:!0,onClose:function(){return o("..",{replace:!0})},title:r.a.createElement(Ze,{subject:null==s?void 0:s.subject,date:null==s?void 0:s.start}),content:r.a.createElement("div",null,r.a.createElement(X.default,null,r.a.createElement(me.a,null,u("Timetable.duration")),d.map((function(e,t){return r.a.createElement(le.default,{key:t},r.a.createElement(ie.default,null,e.icon&&r.a.createElement(we.default,{icon:e.icon})),r.a.createElement(oe.default,{primary:e.title,secondary:e.subtitle}))}))),r.a.createElement(X.default,null,r.a.createElement(me.a,null,u("Timetable.informations")),f.map((function(e,t){return r.a.createElement(le.default,{key:t},r.a.createElement(ie.default,null,e.icon&&r.a.createElement(we.default,{icon:e.icon})),r.a.createElement(oe.default,{primary:e.title,secondary:e.subtitle}))}))))})},tt=a("YJvl"),at=a("iSyh"),nt=a("fzn7"),rt=a("mfku"),lt=a("dJzJ"),it=function(){var e,t=Object(m.useI18n)().t,a=Object(S.q)(),n=a.subjectId,l=a.gradeId,o=Object(S.o)(),c={definition:function(){return Object(i.Q)("io.cozy.timeseries.grades").getById(e)},options:{as:"io.cozy.timeseries.grades/"+(e=n),fetchPolicy:V,singleDocData:!0}},s=Object(i.useQuery)(c.definition,c.options).data,u=s&&s.series.find((function(e){return e.id===l})),d=u?[{primary:t("Grades.values.student.title"),secondary:t("Grades.values.student.description"),value:"".concat(parseFloat(u.value.student).toFixed(2)),icon:M.a,important:!0},{primary:t("Grades.values.class.title"),secondary:t("Grades.values.class.description"),value:"".concat(parseFloat(u.value.classAverage).toFixed(2)),icon:lt.a},u.value.classMax>=0&&{primary:t("Grades.values.max.title"),secondary:t("Grades.values.max.description"),value:"".concat(parseFloat(u.value.classMax).toFixed(2)),icon:at.a},u.value.classMin>=0&&{primary:t("Grades.values.min.title"),secondary:t("Grades.values.min.description"),value:"".concat(parseFloat(u.value.classMin).toFixed(2)),icon:nt.a}]:[];return r.a.createElement(Ve.a,{open:!0,onClose:function(){return o("..",{replace:!0})},disableGutters:!0,title:r.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2px"}},r.a.createElement(tt.a,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},r.a.createElement(T.default,{variant:"h5",style:{width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",border:"1px solid var(--secondaryColorLightest)"}},s&&(ne(s.subject).emoji||"ðŸ“š")),r.a.createElement(T.default,{variant:"subtitle1",color:"textSecondary"},s&&(ne(s.subject).pretty||"Aucune matiÃ¨re"))),r.a.createElement(T.default,{variant:"subtitle1",color:"textPrimary"},u&&(u.label||"Note sans titre"))),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(T.default,{variant:"h2",color:"textPrimary"},u&&parseFloat(u.value.student).toFixed(2)),r.a.createElement(T.default,{variant:"body1",color:"textSecondary",style:{marginBottom:"2px"}},"/",u&&u.value.outOf))),content:r.a.createElement("div",null,r.a.createElement(X.default,{subheader:r.a.createElement(me.a,null,t("Grades.dialogContext"))},r.a.createElement(le.default,null,r.a.createElement(ie.default,null,r.a.createElement(we.default,{icon:F.a})),r.a.createElement(oe.default,{primary:t("Grades.date"),secondary:u&&new Date(u.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})),r.a.createElement(re.a,{component:"li",variant:"inset"}),r.a.createElement(le.default,null,r.a.createElement(ie.default,null,r.a.createElement(we.default,{icon:rt.a})),r.a.createElement(oe.default,{primary:t("Grades.values.coefficient.title"),secondary:t("Grades.values.coefficient.description")}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(T.default,{variant:"body2",color:"textSecondary"},"x"),r.a.createElement(T.default,{variant:"body1",color:"textPrimary",style:{fontWeight:"bold"}},u&&parseFloat(u.value.coef).toFixed(2))))),r.a.createElement(X.default,{subheader:r.a.createElement(me.a,null,t("Grades.valuesList"))},d.map((function(e,t){return e&&r.a.createElement("div",{key:t},r.a.createElement(le.default,null,r.a.createElement(ie.default,null,r.a.createElement(we.default,{icon:e.icon})),r.a.createElement(oe.default,{primary:r.a.createElement(T.default,{variant:"body1",style:{fontWeight:e.important?"bold":"normal"}},e.primary),secondary:e.secondary}),r.a.createElement("div",{className:"cozy-grade-chip",style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(T.default,{variant:"body1",color:"textPrimary",style:{fontWeight:e.important?"bold":"normal"}},parseFloat(e.value).toFixed(2)),r.a.createElement(T.default,{variant:"body2",color:"textSecondary"},"/",parseFloat(u.value.outOf).toFixed(0)))),t!==d.filter(Boolean).length-1&&r.a.createElement(re.a,{component:"li",variant:"inset"}))}))))})},ot=function(){var e,t,a,n=Object(S.q)().homeworkId,l=Object(S.o)(),o={definition:function(){return Object(i.Q)("io.cozy.calendar.todos").getById(a)},options:{as:"io.cozy.calendar.todos/"+(a=n),fetchPolicy:V,singleDocData:!0}},c=Object(i.useQuery)(o.definition,o.options).data,s=(null==c?void 0:c.dueDate)&&(null==c||null===(e=c.dueDate)||void 0===e?void 0:e.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z/,"$1-$2-$3T$4:$5:$6Z"));return r.a.createElement(Ve.a,{open:!0,onClose:function(){return l("..",{replace:!0})},title:r.a.createElement(Ze,{subject:null==c?void 0:c.subject,date:s}),content:null!==(t=null==c?void 0:c.summary)&&void 0!==t?t:""})},ct=[{path:"",element:r.a.createElement(R,null),children:[{path:"timetable",element:r.a.createElement(We,null),children:[{path:"course/:courseId",element:r.a.createElement(et,null)}]},{path:"homeworks",element:r.a.createElement(Ie,null),children:[{path:"homework/:homeworkId",element:r.a.createElement(ot,null)}]},{path:"grades",element:r.a.createElement(_e,null),children:[{path:"grade/:subjectId/:gradeId",element:r.a.createElement(it,null)}]},{path:"presence",element:r.a.createElement(Fe,null)},{path:"",element:r.a.createElement(S.a,{replace:!0,to:"/timetable"})}]}],st=function(){var e=Object(P.b)(ct);return r.a.createElement(P.a,{router:e})},ut=a("BoVd"),dt=a.n(ut);document.addEventListener("DOMContentLoaded",(function(){var e,t,a,n,l;e=D(),t=e.root,a=e.client,n=e.lang,l=e.polyglot,t.render(r.a.createElement(y,{client:a,lang:n,polyglot:l},r.a.createElement(st,null),x()("debug")&&r.a.createElement(dt.a,null)))}))}});